llm:
  auth_env_var: HUGGINGFACE_HUB_TOKEN
  
  # Qwen 2.5 1.5B Instruct - Best in class small model for chat/instructions
  qwen:
    device_map: "cuda:0"  # Force GPU 0
    do_sample: true
    load_in_4bit: true    # ENABLE 4-bit quantization for max speed
    load_in_8bit: false
    max_length: 2048
    model_name: Qwen/Qwen2.5-1.5B-Instruct
    repetition_penalty: 1.1
    temperature: 0.7
    top_k: 50
    top_p: 0.9

  # Active model choice
  model_type: qwen
  use_hf_hub: true
  use_inference_api: false
  
  output:
    format: json
    output_dir: data/llm_outputs
    save_reports: true
  prompts:
    qa_template: 'You are a helpful medical AI assistant. 

Context Information:
Imaging Findings: {imaging_data}
Clinical Context: {clinical_context}

Question: {question}

Please provide a clear, accurate medical answer based on the context provided above.'
    report_generation: 'You are an expert radiologist. Generate a structured radiological report based on the following findings.

INFORMATION:
Modality: {modality}
Body Region: {body_region}
Clinical History: {clinical_history}

FINDINGS:
{segmentation_findings}

SIMILAR CASES:
{similar_cases}

INSTRUCTIONS:
Write a professional Report including:
1. TECHNIQUE
2. FINDINGS (Detail the anatomical observations)
3. IMPRESSION (Summary diagnostic conclusion)
4. RECOMMENDATIONS

REPORT:'
