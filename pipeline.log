2025-10-04 00:36:34,469 - api_server - INFO - Initializing MedTech Pipeline...
2025-10-04 00:36:34,475 - main - INFO - Loaded config: segmentation_config.yaml
2025-10-04 00:36:34,494 - main - INFO - Loaded config: vector_store_config.yaml
2025-10-04 00:36:34,518 - main - INFO - Loaded config: llm_config.yaml
2025-10-04 00:36:34,548 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-10-04 00:36:34,566 - main - INFO - Loaded config: deployment_config.yaml
2025-10-04 00:36:34,566 - main - INFO - MedTech Pipeline initialized
2025-10-04 00:36:34,566 - main - INFO - Initializing pipeline components...
2025-10-04 00:36:34,573 - api_server - ERROR - Failed to initialize pipeline: SwinUNETR.__init__() got an unexpected keyword argument 'img_size'
2025-10-04 00:39:12,073 - api_server - INFO - Shutting down API server...
2025-10-04 00:40:46,332 - api_server - INFO - Initializing MedTech Pipeline...
2025-10-04 00:40:46,354 - main - INFO - Loaded config: segmentation_config.yaml
2025-10-04 00:40:46,379 - main - INFO - Loaded config: vector_store_config.yaml
2025-10-04 00:40:46,408 - main - INFO - Loaded config: llm_config.yaml
2025-10-04 00:40:46,445 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-10-04 00:40:46,467 - main - INFO - Loaded config: deployment_config.yaml
2025-10-04 00:40:46,467 - main - INFO - MedTech Pipeline initialized
2025-10-04 00:40:46,468 - main - INFO - Initializing pipeline components...
2025-10-04 00:40:46,480 - api_server - ERROR - Failed to initialize pipeline: SwinUNETR.__init__() got an unexpected keyword argument 'image_size'
2025-10-04 00:46:24,111 - api_server - INFO - Initializing MedTech Pipeline...
2025-10-04 00:46:24,117 - main - INFO - Loaded config: segmentation_config.yaml
2025-10-04 00:46:24,136 - main - INFO - Loaded config: vector_store_config.yaml
2025-10-04 00:46:24,157 - main - INFO - Loaded config: llm_config.yaml
2025-10-04 00:46:24,187 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-10-04 00:46:24,216 - main - INFO - Loaded config: deployment_config.yaml
2025-10-04 00:46:24,216 - main - INFO - MedTech Pipeline initialized
2025-10-04 00:46:24,216 - main - INFO - Initializing pipeline components...
2025-10-04 00:46:24,476 - segmentation.swin_unetr_model - WARNING - Failed to load pretrained weights: Attempting to deserialize object on a CUDA device but torch.cuda.is_available() is False. If you are running on a CPU-only machine, please use torch.load with map_location=torch.device('cpu') to map your storages to the CPU.
2025-10-04 00:46:24,483 - api_server - ERROR - Failed to initialize pipeline: Torch not compiled with CUDA enabled
2025-10-04 00:47:51,105 - api_server - INFO - Shutting down API server...
2025-10-04 00:48:53,386 - api_server - INFO - Initializing MedTech Pipeline...
2025-10-04 00:48:53,398 - main - INFO - Loaded config: segmentation_config.yaml
2025-10-04 00:48:53,406 - main - INFO - Loaded config: vector_store_config.yaml
2025-10-04 00:48:53,416 - main - INFO - Loaded config: llm_config.yaml
2025-10-04 00:48:53,427 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-10-04 00:48:53,443 - main - INFO - Loaded config: deployment_config.yaml
2025-10-04 00:48:53,443 - main - INFO - MedTech Pipeline initialized
2025-10-04 00:48:53,444 - main - INFO - Initializing pipeline components...
2025-10-04 00:48:53,671 - segmentation.swin_unetr_model - WARNING - Failed to load pretrained weights: Attempting to deserialize object on a CUDA device but torch.cuda.is_available() is False. If you are running on a CPU-only machine, please use torch.load with map_location=torch.device('cpu') to map your storages to the CPU.
2025-10-04 00:48:53,679 - api_server - ERROR - Failed to initialize pipeline: Torch not compiled with CUDA enabled
2025-10-04 00:50:07,299 - api_server - INFO - Shutting down API server...
2025-10-04 00:53:01,405 - api_server - INFO - Initializing MedTech Pipeline...
2025-10-04 00:53:01,412 - main - INFO - Loaded config: segmentation_config.yaml
2025-10-04 00:53:01,419 - main - INFO - Loaded config: vector_store_config.yaml
2025-10-04 00:53:01,427 - main - INFO - Loaded config: llm_config.yaml
2025-10-04 00:53:01,437 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-10-04 00:53:01,451 - main - INFO - Loaded config: deployment_config.yaml
2025-10-04 00:53:01,452 - main - INFO - MedTech Pipeline initialized
2025-10-04 00:53:01,452 - main - INFO - Initializing pipeline components...
2025-10-04 00:53:01,826 - segmentation.swin_unetr_model - WARNING - Failed to load pretrained weights: Error(s) in loading state_dict for SwinUNETR:
	Missing key(s) in state_dict: "swinViT.patch_embed.proj.weight", "swinViT.patch_embed.proj.bias", "swinViT.layers1.0.blocks.0.norm1.weight", "swinViT.layers1.0.blocks.0.norm1.bias", "swinViT.layers1.0.blocks.0.attn.relative_position_bias_table", "swinViT.layers1.0.blocks.0.attn.relative_position_index", "swinViT.layers1.0.blocks.0.attn.qkv.weight", "swinViT.layers1.0.blocks.0.attn.qkv.bias", "swinViT.layers1.0.blocks.0.attn.proj.weight", "swinViT.layers1.0.blocks.0.attn.proj.bias", "swinViT.layers1.0.blocks.0.norm2.weight", "swinViT.layers1.0.blocks.0.norm2.bias", "swinViT.layers1.0.blocks.0.mlp.linear1.weight", "swinViT.layers1.0.blocks.0.mlp.linear1.bias", "swinViT.layers1.0.blocks.0.mlp.linear2.weight", "swinViT.layers1.0.blocks.0.mlp.linear2.bias", "swinViT.layers1.0.blocks.1.norm1.weight", "swinViT.layers1.0.blocks.1.norm1.bias", "swinViT.layers1.0.blocks.1.attn.relative_position_bias_table", "swinViT.layers1.0.blocks.1.attn.relative_position_index", "swinViT.layers1.0.blocks.1.attn.qkv.weight", "swinViT.layers1.0.blocks.1.attn.qkv.bias", "swinViT.layers1.0.blocks.1.attn.proj.weight", "swinViT.layers1.0.blocks.1.attn.proj.bias", "swinViT.layers1.0.blocks.1.norm2.weight", "swinViT.layers1.0.blocks.1.norm2.bias", "swinViT.layers1.0.blocks.1.mlp.linear1.weight", "swinViT.layers1.0.blocks.1.mlp.linear1.bias", "swinViT.layers1.0.blocks.1.mlp.linear2.weight", "swinViT.layers1.0.blocks.1.mlp.linear2.bias", "swinViT.layers1.0.downsample.reduction.weight", "swinViT.layers1.0.downsample.norm.weight", "swinViT.layers1.0.downsample.norm.bias", "swinViT.layers2.0.blocks.0.norm1.weight", "swinViT.layers2.0.blocks.0.norm1.bias", "swinViT.layers2.0.blocks.0.attn.relative_position_bias_table", "swinViT.layers2.0.blocks.0.attn.relative_position_index", "swinViT.layers2.0.blocks.0.attn.qkv.weight", "swinViT.layers2.0.blocks.0.attn.qkv.bias", "swinViT.layers2.0.blocks.0.attn.proj.weight", "swinViT.layers2.0.blocks.0.attn.proj.bias", "swinViT.layers2.0.blocks.0.norm2.weight", "swinViT.layers2.0.blocks.0.norm2.bias", "swinViT.layers2.0.blocks.0.mlp.linear1.weight", "swinViT.layers2.0.blocks.0.mlp.linear1.bias", "swinViT.layers2.0.blocks.0.mlp.linear2.weight", "swinViT.layers2.0.blocks.0.mlp.linear2.bias", "swinViT.layers2.0.blocks.1.norm1.weight", "swinViT.layers2.0.blocks.1.norm1.bias", "swinViT.layers2.0.blocks.1.attn.relative_position_bias_table", "swinViT.layers2.0.blocks.1.attn.relative_position_index", "swinViT.layers2.0.blocks.1.attn.qkv.weight", "swinViT.layers2.0.blocks.1.attn.qkv.bias", "swinViT.layers2.0.blocks.1.attn.proj.weight", "swinViT.layers2.0.blocks.1.attn.proj.bias", "swinViT.layers2.0.blocks.1.norm2.weight", "swinViT.layers2.0.blocks.1.norm2.bias", "swinViT.layers2.0.blocks.1.mlp.linear1.weight", "swinViT.layers2.0.blocks.1.mlp.linear1.bias", "swinViT.layers2.0.blocks.1.mlp.linear2.weight", "swinViT.layers2.0.blocks.1.mlp.linear2.bias", "swinViT.layers2.0.downsample.reduction.weight", "swinViT.layers2.0.downsample.norm.weight", "swinViT.layers2.0.downsample.norm.bias", "swinViT.layers3.0.blocks.0.norm1.weight", "swinViT.layers3.0.blocks.0.norm1.bias", "swinViT.layers3.0.blocks.0.attn.relative_position_bias_table", "swinViT.layers3.0.blocks.0.attn.relative_position_index", "swinViT.layers3.0.blocks.0.attn.qkv.weight", "swinViT.layers3.0.blocks.0.attn.qkv.bias", "swinViT.layers3.0.blocks.0.attn.proj.weight", "swinViT.layers3.0.blocks.0.attn.proj.bias", "swinViT.layers3.0.blocks.0.norm2.weight", "swinViT.layers3.0.blocks.0.norm2.bias", "swinViT.layers3.0.blocks.0.mlp.linear1.weight", "swinViT.layers3.0.blocks.0.mlp.linear1.bias", "swinViT.layers3.0.blocks.0.mlp.linear2.weight", "swinViT.layers3.0.blocks.0.mlp.linear2.bias", "swinViT.layers3.0.blocks.1.norm1.weight", "swinViT.layers3.0.blocks.1.norm1.bias", "swinViT.layers3.0.blocks.1.attn.relative_position_bias_table", "swinViT.layers3.0.blocks.1.attn.relative_position_index", "swinViT.layers3.0.blocks.1.attn.qkv.weight", "swinViT.layers3.0.blocks.1.attn.qkv.bias", "swinViT.layers3.0.blocks.1.attn.proj.weight", "swinViT.layers3.0.blocks.1.attn.proj.bias", "swinViT.layers3.0.blocks.1.norm2.weight", "swinViT.layers3.0.blocks.1.norm2.bias", "swinViT.layers3.0.blocks.1.mlp.linear1.weight", "swinViT.layers3.0.blocks.1.mlp.linear1.bias", "swinViT.layers3.0.blocks.1.mlp.linear2.weight", "swinViT.layers3.0.blocks.1.mlp.linear2.bias", "swinViT.layers3.0.downsample.reduction.weight", "swinViT.layers3.0.downsample.norm.weight", "swinViT.layers3.0.downsample.norm.bias", "swinViT.layers4.0.blocks.0.norm1.weight", "swinViT.layers4.0.blocks.0.norm1.bias", "swinViT.layers4.0.blocks.0.attn.relative_position_bias_table", "swinViT.layers4.0.blocks.0.attn.relative_position_index", "swinViT.layers4.0.blocks.0.attn.qkv.weight", "swinViT.layers4.0.blocks.0.attn.qkv.bias", "swinViT.layers4.0.blocks.0.attn.proj.weight", "swinViT.layers4.0.blocks.0.attn.proj.bias", "swinViT.layers4.0.blocks.0.norm2.weight", "swinViT.layers4.0.blocks.0.norm2.bias", "swinViT.layers4.0.blocks.0.mlp.linear1.weight", "swinViT.layers4.0.blocks.0.mlp.linear1.bias", "swinViT.layers4.0.blocks.0.mlp.linear2.weight", "swinViT.layers4.0.blocks.0.mlp.linear2.bias", "swinViT.layers4.0.blocks.1.norm1.weight", "swinViT.layers4.0.blocks.1.norm1.bias", "swinViT.layers4.0.blocks.1.attn.relative_position_bias_table", "swinViT.layers4.0.blocks.1.attn.relative_position_index", "swinViT.layers4.0.blocks.1.attn.qkv.weight", "swinViT.layers4.0.blocks.1.attn.qkv.bias", "swinViT.layers4.0.blocks.1.attn.proj.weight", "swinViT.layers4.0.blocks.1.attn.proj.bias", "swinViT.layers4.0.blocks.1.norm2.weight", "swinViT.layers4.0.blocks.1.norm2.bias", "swinViT.layers4.0.blocks.1.mlp.linear1.weight", "swinViT.layers4.0.blocks.1.mlp.linear1.bias", "swinViT.layers4.0.blocks.1.mlp.linear2.weight", "swinViT.layers4.0.blocks.1.mlp.linear2.bias", "swinViT.layers4.0.downsample.reduction.weight", "swinViT.layers4.0.downsample.norm.weight", "swinViT.layers4.0.downsample.norm.bias", "encoder1.layer.conv1.conv.weight", "encoder1.layer.conv2.conv.weight", "encoder1.layer.conv3.conv.weight", "encoder2.layer.conv1.conv.weight", "encoder2.layer.conv2.conv.weight", "encoder3.layer.conv1.conv.weight", "encoder3.layer.conv2.conv.weight", "encoder4.layer.conv1.conv.weight", "encoder4.layer.conv2.conv.weight", "encoder10.layer.conv1.conv.weight", "encoder10.layer.conv2.conv.weight", "decoder5.transp_conv.conv.weight", "decoder5.conv_block.conv1.conv.weight", "decoder5.conv_block.conv2.conv.weight", "decoder5.conv_block.conv3.conv.weight", "decoder4.transp_conv.conv.weight", "decoder4.conv_block.conv1.conv.weight", "decoder4.conv_block.conv2.conv.weight", "decoder4.conv_block.conv3.conv.weight", "decoder3.transp_conv.conv.weight", "decoder3.conv_block.conv1.conv.weight", "decoder3.conv_block.conv2.conv.weight", "decoder3.conv_block.conv3.conv.weight", "decoder2.transp_conv.conv.weight", "decoder2.conv_block.conv1.conv.weight", "decoder2.conv_block.conv2.conv.weight", "decoder2.conv_block.conv3.conv.weight", "decoder1.transp_conv.conv.weight", "decoder1.conv_block.conv1.conv.weight", "decoder1.conv_block.conv2.conv.weight", "decoder1.conv_block.conv3.conv.weight", "out.conv.conv.weight", "out.conv.conv.bias". 
	Unexpected key(s) in state_dict: "module.patch_embed.proj.weight", "module.patch_embed.proj.bias", "module.layers1.0.blocks.0.norm1.weight", "module.layers1.0.blocks.0.norm1.bias", "module.layers1.0.blocks.0.attn.relative_position_bias_table", "module.layers1.0.blocks.0.attn.relative_position_index", "module.layers1.0.blocks.0.attn.qkv.weight", "module.layers1.0.blocks.0.attn.qkv.bias", "module.layers1.0.blocks.0.attn.proj.weight", "module.layers1.0.blocks.0.attn.proj.bias", "module.layers1.0.blocks.0.norm2.weight", "module.layers1.0.blocks.0.norm2.bias", "module.layers1.0.blocks.0.mlp.fc1.weight", "module.layers1.0.blocks.0.mlp.fc1.bias", "module.layers1.0.blocks.0.mlp.fc2.weight", "module.layers1.0.blocks.0.mlp.fc2.bias", "module.layers1.0.blocks.1.norm1.weight", "module.layers1.0.blocks.1.norm1.bias", "module.layers1.0.blocks.1.attn.relative_position_bias_table", "module.layers1.0.blocks.1.attn.relative_position_index", "module.layers1.0.blocks.1.attn.qkv.weight", "module.layers1.0.blocks.1.attn.qkv.bias", "module.layers1.0.blocks.1.attn.proj.weight", "module.layers1.0.blocks.1.attn.proj.bias", "module.layers1.0.blocks.1.norm2.weight", "module.layers1.0.blocks.1.norm2.bias", "module.layers1.0.blocks.1.mlp.fc1.weight", "module.layers1.0.blocks.1.mlp.fc1.bias", "module.layers1.0.blocks.1.mlp.fc2.weight", "module.layers1.0.blocks.1.mlp.fc2.bias", "module.layers1.0.downsample.reduction.weight", "module.layers1.0.downsample.norm.weight", "module.layers1.0.downsample.norm.bias", "module.layers2.0.blocks.0.norm1.weight", "module.layers2.0.blocks.0.norm1.bias", "module.layers2.0.blocks.0.attn.relative_position_bias_table", "module.layers2.0.blocks.0.attn.relative_position_index", "module.layers2.0.blocks.0.attn.qkv.weight", "module.layers2.0.blocks.0.attn.qkv.bias", "module.layers2.0.blocks.0.attn.proj.weight", "module.layers2.0.blocks.0.attn.proj.bias", "module.layers2.0.blocks.0.norm2.weight", "module.layers2.0.blocks.0.norm2.bias", "module.layers2.0.blocks.0.mlp.fc1.weight", "module.layers2.0.blocks.0.mlp.fc1.bias", "module.layers2.0.blocks.0.mlp.fc2.weight", "module.layers2.0.blocks.0.mlp.fc2.bias", "module.layers2.0.blocks.1.norm1.weight", "module.layers2.0.blocks.1.norm1.bias", "module.layers2.0.blocks.1.attn.relative_position_bias_table", "module.layers2.0.blocks.1.attn.relative_position_index", "module.layers2.0.blocks.1.attn.qkv.weight", "module.layers2.0.blocks.1.attn.qkv.bias", "module.layers2.0.blocks.1.attn.proj.weight", "module.layers2.0.blocks.1.attn.proj.bias", "module.layers2.0.blocks.1.norm2.weight", "module.layers2.0.blocks.1.norm2.bias", "module.layers2.0.blocks.1.mlp.fc1.weight", "module.layers2.0.blocks.1.mlp.fc1.bias", "module.layers2.0.blocks.1.mlp.fc2.weight", "module.layers2.0.blocks.1.mlp.fc2.bias", "module.layers2.0.downsample.reduction.weight", "module.layers2.0.downsample.norm.weight", "module.layers2.0.downsample.norm.bias", "module.layers3.0.blocks.0.norm1.weight", "module.layers3.0.blocks.0.norm1.bias", "module.layers3.0.blocks.0.attn.relative_position_bias_table", "module.layers3.0.blocks.0.attn.relative_position_index", "module.layers3.0.blocks.0.attn.qkv.weight", "module.layers3.0.blocks.0.attn.qkv.bias", "module.layers3.0.blocks.0.attn.proj.weight", "module.layers3.0.blocks.0.attn.proj.bias", "module.layers3.0.blocks.0.norm2.weight", "module.layers3.0.blocks.0.norm2.bias", "module.layers3.0.blocks.0.mlp.fc1.weight", "module.layers3.0.blocks.0.mlp.fc1.bias", "module.layers3.0.blocks.0.mlp.fc2.weight", "module.layers3.0.blocks.0.mlp.fc2.bias", "module.layers3.0.blocks.1.norm1.weight", "module.layers3.0.blocks.1.norm1.bias", "module.layers3.0.blocks.1.attn.relative_position_bias_table", "module.layers3.0.blocks.1.attn.relative_position_index", "module.layers3.0.blocks.1.attn.qkv.weight", "module.layers3.0.blocks.1.attn.qkv.bias", "module.layers3.0.blocks.1.attn.proj.weight", "module.layers3.0.blocks.1.attn.proj.bias", "module.layers3.0.blocks.1.norm2.weight", "module.layers3.0.blocks.1.norm2.bias", "module.layers3.0.blocks.1.mlp.fc1.weight", "module.layers3.0.blocks.1.mlp.fc1.bias", "module.layers3.0.blocks.1.mlp.fc2.weight", "module.layers3.0.blocks.1.mlp.fc2.bias", "module.layers3.0.downsample.reduction.weight", "module.layers3.0.downsample.norm.weight", "module.layers3.0.downsample.norm.bias", "module.layers4.0.blocks.0.norm1.weight", "module.layers4.0.blocks.0.norm1.bias", "module.layers4.0.blocks.0.attn.relative_position_bias_table", "module.layers4.0.blocks.0.attn.relative_position_index", "module.layers4.0.blocks.0.attn.qkv.weight", "module.layers4.0.blocks.0.attn.qkv.bias", "module.layers4.0.blocks.0.attn.proj.weight", "module.layers4.0.blocks.0.attn.proj.bias", "module.layers4.0.blocks.0.norm2.weight", "module.layers4.0.blocks.0.norm2.bias", "module.layers4.0.blocks.0.mlp.fc1.weight", "module.layers4.0.blocks.0.mlp.fc1.bias", "module.layers4.0.blocks.0.mlp.fc2.weight", "module.layers4.0.blocks.0.mlp.fc2.bias", "module.layers4.0.blocks.1.norm1.weight", "module.layers4.0.blocks.1.norm1.bias", "module.layers4.0.blocks.1.attn.relative_position_bias_table", "module.layers4.0.blocks.1.attn.relative_position_index", "module.layers4.0.blocks.1.attn.qkv.weight", "module.layers4.0.blocks.1.attn.qkv.bias", "module.layers4.0.blocks.1.attn.proj.weight", "module.layers4.0.blocks.1.attn.proj.bias", "module.layers4.0.blocks.1.norm2.weight", "module.layers4.0.blocks.1.norm2.bias", "module.layers4.0.blocks.1.mlp.fc1.weight", "module.layers4.0.blocks.1.mlp.fc1.bias", "module.layers4.0.blocks.1.mlp.fc2.weight", "module.layers4.0.blocks.1.mlp.fc2.bias", "module.layers4.0.downsample.reduction.weight", "module.layers4.0.downsample.norm.weight", "module.layers4.0.downsample.norm.bias", "module.norm.weight", "module.norm.bias", "module.convTrans3d.weight", "module.convTrans3d.bias", "module.rotation_head.weight", "module.rotation_head.bias", "module.contrastive_head.weight", "module.contrastive_head.bias". 
2025-10-04 00:53:01,837 - segmentation.swin_unetr_model - INFO - Swin UNETR model initialized on device: cpu
2025-10-04 00:53:01,837 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-10-04 00:53:01,837 - segmentation.postprocessing - INFO - Segmentation postprocessor initialized
2025-10-04 00:53:01,838 - segmentation.segmentation_pipeline - INFO - Segmentation pipeline initialized
2025-10-04 00:53:01,838 - main - INFO - Segmentation pipeline initialized
2025-10-04 00:53:01,839 - api_server - ERROR - Failed to initialize pipeline: 'index'
2025-10-04 00:54:00,094 - api_server - INFO - Shutting down API server...
2025-10-04 00:54:12,676 - main - INFO - Loaded config: segmentation_config.yaml
2025-10-04 00:54:12,683 - main - INFO - Loaded config: vector_store_config.yaml
2025-10-04 00:54:12,689 - main - INFO - Loaded config: llm_config.yaml
2025-10-04 00:54:12,696 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-10-04 00:54:12,707 - main - INFO - Loaded config: deployment_config.yaml
2025-10-04 00:54:12,708 - main - INFO - MedTech Pipeline initialized
2025-10-04 00:54:12,708 - main - INFO - Initializing pipeline components...
2025-10-04 00:54:12,809 - segmentation.swin_unetr_model - INFO - Swin UNETR model initialized on device: cpu
2025-10-04 00:54:12,809 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-10-04 00:54:12,809 - segmentation.postprocessing - INFO - Segmentation postprocessor initialized
2025-10-04 00:54:12,810 - segmentation.segmentation_pipeline - INFO - Segmentation pipeline initialized
2025-10-04 00:54:12,810 - main - INFO - Segmentation pipeline initialized
