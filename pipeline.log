2025-10-04 00:36:34,469 - api_server - INFO - Initializing MedTech Pipeline...
2025-10-04 00:36:34,475 - main - INFO - Loaded config: segmentation_config.yaml
2025-10-04 00:36:34,494 - main - INFO - Loaded config: vector_store_config.yaml
2025-10-04 00:36:34,518 - main - INFO - Loaded config: llm_config.yaml
2025-10-04 00:36:34,548 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-10-04 00:36:34,566 - main - INFO - Loaded config: deployment_config.yaml
2025-10-04 00:36:34,566 - main - INFO - MedTech Pipeline initialized
2025-10-04 00:36:34,566 - main - INFO - Initializing pipeline components...
2025-10-04 00:36:34,573 - api_server - ERROR - Failed to initialize pipeline: SwinUNETR.__init__() got an unexpected keyword argument 'img_size'
2025-10-04 00:39:12,073 - api_server - INFO - Shutting down API server...
2025-10-04 00:40:46,332 - api_server - INFO - Initializing MedTech Pipeline...
2025-10-04 00:40:46,354 - main - INFO - Loaded config: segmentation_config.yaml
2025-10-04 00:40:46,379 - main - INFO - Loaded config: vector_store_config.yaml
2025-10-04 00:40:46,408 - main - INFO - Loaded config: llm_config.yaml
2025-10-04 00:40:46,445 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-10-04 00:40:46,467 - main - INFO - Loaded config: deployment_config.yaml
2025-10-04 00:40:46,467 - main - INFO - MedTech Pipeline initialized
2025-10-04 00:40:46,468 - main - INFO - Initializing pipeline components...
2025-10-04 00:40:46,480 - api_server - ERROR - Failed to initialize pipeline: SwinUNETR.__init__() got an unexpected keyword argument 'image_size'
2025-10-04 00:46:24,111 - api_server - INFO - Initializing MedTech Pipeline...
2025-10-04 00:46:24,117 - main - INFO - Loaded config: segmentation_config.yaml
2025-10-04 00:46:24,136 - main - INFO - Loaded config: vector_store_config.yaml
2025-10-04 00:46:24,157 - main - INFO - Loaded config: llm_config.yaml
2025-10-04 00:46:24,187 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-10-04 00:46:24,216 - main - INFO - Loaded config: deployment_config.yaml
2025-10-04 00:46:24,216 - main - INFO - MedTech Pipeline initialized
2025-10-04 00:46:24,216 - main - INFO - Initializing pipeline components...
2025-10-04 00:46:24,476 - segmentation.swin_unetr_model - WARNING - Failed to load pretrained weights: Attempting to deserialize object on a CUDA device but torch.cuda.is_available() is False. If you are running on a CPU-only machine, please use torch.load with map_location=torch.device('cpu') to map your storages to the CPU.
2025-10-04 00:46:24,483 - api_server - ERROR - Failed to initialize pipeline: Torch not compiled with CUDA enabled
2025-10-04 00:47:51,105 - api_server - INFO - Shutting down API server...
2025-10-04 00:48:53,386 - api_server - INFO - Initializing MedTech Pipeline...
2025-10-04 00:48:53,398 - main - INFO - Loaded config: segmentation_config.yaml
2025-10-04 00:48:53,406 - main - INFO - Loaded config: vector_store_config.yaml
2025-10-04 00:48:53,416 - main - INFO - Loaded config: llm_config.yaml
2025-10-04 00:48:53,427 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-10-04 00:48:53,443 - main - INFO - Loaded config: deployment_config.yaml
2025-10-04 00:48:53,443 - main - INFO - MedTech Pipeline initialized
2025-10-04 00:48:53,444 - main - INFO - Initializing pipeline components...
2025-10-04 00:48:53,671 - segmentation.swin_unetr_model - WARNING - Failed to load pretrained weights: Attempting to deserialize object on a CUDA device but torch.cuda.is_available() is False. If you are running on a CPU-only machine, please use torch.load with map_location=torch.device('cpu') to map your storages to the CPU.
2025-10-04 00:48:53,679 - api_server - ERROR - Failed to initialize pipeline: Torch not compiled with CUDA enabled
2025-10-04 00:50:07,299 - api_server - INFO - Shutting down API server...
2025-10-04 00:53:01,405 - api_server - INFO - Initializing MedTech Pipeline...
2025-10-04 00:53:01,412 - main - INFO - Loaded config: segmentation_config.yaml
2025-10-04 00:53:01,419 - main - INFO - Loaded config: vector_store_config.yaml
2025-10-04 00:53:01,427 - main - INFO - Loaded config: llm_config.yaml
2025-10-04 00:53:01,437 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-10-04 00:53:01,451 - main - INFO - Loaded config: deployment_config.yaml
2025-10-04 00:53:01,452 - main - INFO - MedTech Pipeline initialized
2025-10-04 00:53:01,452 - main - INFO - Initializing pipeline components...
2025-10-04 00:53:01,826 - segmentation.swin_unetr_model - WARNING - Failed to load pretrained weights: Error(s) in loading state_dict for SwinUNETR:
	Missing key(s) in state_dict: "swinViT.patch_embed.proj.weight", "swinViT.patch_embed.proj.bias", "swinViT.layers1.0.blocks.0.norm1.weight", "swinViT.layers1.0.blocks.0.norm1.bias", "swinViT.layers1.0.blocks.0.attn.relative_position_bias_table", "swinViT.layers1.0.blocks.0.attn.relative_position_index", "swinViT.layers1.0.blocks.0.attn.qkv.weight", "swinViT.layers1.0.blocks.0.attn.qkv.bias", "swinViT.layers1.0.blocks.0.attn.proj.weight", "swinViT.layers1.0.blocks.0.attn.proj.bias", "swinViT.layers1.0.blocks.0.norm2.weight", "swinViT.layers1.0.blocks.0.norm2.bias", "swinViT.layers1.0.blocks.0.mlp.linear1.weight", "swinViT.layers1.0.blocks.0.mlp.linear1.bias", "swinViT.layers1.0.blocks.0.mlp.linear2.weight", "swinViT.layers1.0.blocks.0.mlp.linear2.bias", "swinViT.layers1.0.blocks.1.norm1.weight", "swinViT.layers1.0.blocks.1.norm1.bias", "swinViT.layers1.0.blocks.1.attn.relative_position_bias_table", "swinViT.layers1.0.blocks.1.attn.relative_position_index", "swinViT.layers1.0.blocks.1.attn.qkv.weight", "swinViT.layers1.0.blocks.1.attn.qkv.bias", "swinViT.layers1.0.blocks.1.attn.proj.weight", "swinViT.layers1.0.blocks.1.attn.proj.bias", "swinViT.layers1.0.blocks.1.norm2.weight", "swinViT.layers1.0.blocks.1.norm2.bias", "swinViT.layers1.0.blocks.1.mlp.linear1.weight", "swinViT.layers1.0.blocks.1.mlp.linear1.bias", "swinViT.layers1.0.blocks.1.mlp.linear2.weight", "swinViT.layers1.0.blocks.1.mlp.linear2.bias", "swinViT.layers1.0.downsample.reduction.weight", "swinViT.layers1.0.downsample.norm.weight", "swinViT.layers1.0.downsample.norm.bias", "swinViT.layers2.0.blocks.0.norm1.weight", "swinViT.layers2.0.blocks.0.norm1.bias", "swinViT.layers2.0.blocks.0.attn.relative_position_bias_table", "swinViT.layers2.0.blocks.0.attn.relative_position_index", "swinViT.layers2.0.blocks.0.attn.qkv.weight", "swinViT.layers2.0.blocks.0.attn.qkv.bias", "swinViT.layers2.0.blocks.0.attn.proj.weight", "swinViT.layers2.0.blocks.0.attn.proj.bias", "swinViT.layers2.0.blocks.0.norm2.weight", "swinViT.layers2.0.blocks.0.norm2.bias", "swinViT.layers2.0.blocks.0.mlp.linear1.weight", "swinViT.layers2.0.blocks.0.mlp.linear1.bias", "swinViT.layers2.0.blocks.0.mlp.linear2.weight", "swinViT.layers2.0.blocks.0.mlp.linear2.bias", "swinViT.layers2.0.blocks.1.norm1.weight", "swinViT.layers2.0.blocks.1.norm1.bias", "swinViT.layers2.0.blocks.1.attn.relative_position_bias_table", "swinViT.layers2.0.blocks.1.attn.relative_position_index", "swinViT.layers2.0.blocks.1.attn.qkv.weight", "swinViT.layers2.0.blocks.1.attn.qkv.bias", "swinViT.layers2.0.blocks.1.attn.proj.weight", "swinViT.layers2.0.blocks.1.attn.proj.bias", "swinViT.layers2.0.blocks.1.norm2.weight", "swinViT.layers2.0.blocks.1.norm2.bias", "swinViT.layers2.0.blocks.1.mlp.linear1.weight", "swinViT.layers2.0.blocks.1.mlp.linear1.bias", "swinViT.layers2.0.blocks.1.mlp.linear2.weight", "swinViT.layers2.0.blocks.1.mlp.linear2.bias", "swinViT.layers2.0.downsample.reduction.weight", "swinViT.layers2.0.downsample.norm.weight", "swinViT.layers2.0.downsample.norm.bias", "swinViT.layers3.0.blocks.0.norm1.weight", "swinViT.layers3.0.blocks.0.norm1.bias", "swinViT.layers3.0.blocks.0.attn.relative_position_bias_table", "swinViT.layers3.0.blocks.0.attn.relative_position_index", "swinViT.layers3.0.blocks.0.attn.qkv.weight", "swinViT.layers3.0.blocks.0.attn.qkv.bias", "swinViT.layers3.0.blocks.0.attn.proj.weight", "swinViT.layers3.0.blocks.0.attn.proj.bias", "swinViT.layers3.0.blocks.0.norm2.weight", "swinViT.layers3.0.blocks.0.norm2.bias", "swinViT.layers3.0.blocks.0.mlp.linear1.weight", "swinViT.layers3.0.blocks.0.mlp.linear1.bias", "swinViT.layers3.0.blocks.0.mlp.linear2.weight", "swinViT.layers3.0.blocks.0.mlp.linear2.bias", "swinViT.layers3.0.blocks.1.norm1.weight", "swinViT.layers3.0.blocks.1.norm1.bias", "swinViT.layers3.0.blocks.1.attn.relative_position_bias_table", "swinViT.layers3.0.blocks.1.attn.relative_position_index", "swinViT.layers3.0.blocks.1.attn.qkv.weight", "swinViT.layers3.0.blocks.1.attn.qkv.bias", "swinViT.layers3.0.blocks.1.attn.proj.weight", "swinViT.layers3.0.blocks.1.attn.proj.bias", "swinViT.layers3.0.blocks.1.norm2.weight", "swinViT.layers3.0.blocks.1.norm2.bias", "swinViT.layers3.0.blocks.1.mlp.linear1.weight", "swinViT.layers3.0.blocks.1.mlp.linear1.bias", "swinViT.layers3.0.blocks.1.mlp.linear2.weight", "swinViT.layers3.0.blocks.1.mlp.linear2.bias", "swinViT.layers3.0.downsample.reduction.weight", "swinViT.layers3.0.downsample.norm.weight", "swinViT.layers3.0.downsample.norm.bias", "swinViT.layers4.0.blocks.0.norm1.weight", "swinViT.layers4.0.blocks.0.norm1.bias", "swinViT.layers4.0.blocks.0.attn.relative_position_bias_table", "swinViT.layers4.0.blocks.0.attn.relative_position_index", "swinViT.layers4.0.blocks.0.attn.qkv.weight", "swinViT.layers4.0.blocks.0.attn.qkv.bias", "swinViT.layers4.0.blocks.0.attn.proj.weight", "swinViT.layers4.0.blocks.0.attn.proj.bias", "swinViT.layers4.0.blocks.0.norm2.weight", "swinViT.layers4.0.blocks.0.norm2.bias", "swinViT.layers4.0.blocks.0.mlp.linear1.weight", "swinViT.layers4.0.blocks.0.mlp.linear1.bias", "swinViT.layers4.0.blocks.0.mlp.linear2.weight", "swinViT.layers4.0.blocks.0.mlp.linear2.bias", "swinViT.layers4.0.blocks.1.norm1.weight", "swinViT.layers4.0.blocks.1.norm1.bias", "swinViT.layers4.0.blocks.1.attn.relative_position_bias_table", "swinViT.layers4.0.blocks.1.attn.relative_position_index", "swinViT.layers4.0.blocks.1.attn.qkv.weight", "swinViT.layers4.0.blocks.1.attn.qkv.bias", "swinViT.layers4.0.blocks.1.attn.proj.weight", "swinViT.layers4.0.blocks.1.attn.proj.bias", "swinViT.layers4.0.blocks.1.norm2.weight", "swinViT.layers4.0.blocks.1.norm2.bias", "swinViT.layers4.0.blocks.1.mlp.linear1.weight", "swinViT.layers4.0.blocks.1.mlp.linear1.bias", "swinViT.layers4.0.blocks.1.mlp.linear2.weight", "swinViT.layers4.0.blocks.1.mlp.linear2.bias", "swinViT.layers4.0.downsample.reduction.weight", "swinViT.layers4.0.downsample.norm.weight", "swinViT.layers4.0.downsample.norm.bias", "encoder1.layer.conv1.conv.weight", "encoder1.layer.conv2.conv.weight", "encoder1.layer.conv3.conv.weight", "encoder2.layer.conv1.conv.weight", "encoder2.layer.conv2.conv.weight", "encoder3.layer.conv1.conv.weight", "encoder3.layer.conv2.conv.weight", "encoder4.layer.conv1.conv.weight", "encoder4.layer.conv2.conv.weight", "encoder10.layer.conv1.conv.weight", "encoder10.layer.conv2.conv.weight", "decoder5.transp_conv.conv.weight", "decoder5.conv_block.conv1.conv.weight", "decoder5.conv_block.conv2.conv.weight", "decoder5.conv_block.conv3.conv.weight", "decoder4.transp_conv.conv.weight", "decoder4.conv_block.conv1.conv.weight", "decoder4.conv_block.conv2.conv.weight", "decoder4.conv_block.conv3.conv.weight", "decoder3.transp_conv.conv.weight", "decoder3.conv_block.conv1.conv.weight", "decoder3.conv_block.conv2.conv.weight", "decoder3.conv_block.conv3.conv.weight", "decoder2.transp_conv.conv.weight", "decoder2.conv_block.conv1.conv.weight", "decoder2.conv_block.conv2.conv.weight", "decoder2.conv_block.conv3.conv.weight", "decoder1.transp_conv.conv.weight", "decoder1.conv_block.conv1.conv.weight", "decoder1.conv_block.conv2.conv.weight", "decoder1.conv_block.conv3.conv.weight", "out.conv.conv.weight", "out.conv.conv.bias". 
	Unexpected key(s) in state_dict: "module.patch_embed.proj.weight", "module.patch_embed.proj.bias", "module.layers1.0.blocks.0.norm1.weight", "module.layers1.0.blocks.0.norm1.bias", "module.layers1.0.blocks.0.attn.relative_position_bias_table", "module.layers1.0.blocks.0.attn.relative_position_index", "module.layers1.0.blocks.0.attn.qkv.weight", "module.layers1.0.blocks.0.attn.qkv.bias", "module.layers1.0.blocks.0.attn.proj.weight", "module.layers1.0.blocks.0.attn.proj.bias", "module.layers1.0.blocks.0.norm2.weight", "module.layers1.0.blocks.0.norm2.bias", "module.layers1.0.blocks.0.mlp.fc1.weight", "module.layers1.0.blocks.0.mlp.fc1.bias", "module.layers1.0.blocks.0.mlp.fc2.weight", "module.layers1.0.blocks.0.mlp.fc2.bias", "module.layers1.0.blocks.1.norm1.weight", "module.layers1.0.blocks.1.norm1.bias", "module.layers1.0.blocks.1.attn.relative_position_bias_table", "module.layers1.0.blocks.1.attn.relative_position_index", "module.layers1.0.blocks.1.attn.qkv.weight", "module.layers1.0.blocks.1.attn.qkv.bias", "module.layers1.0.blocks.1.attn.proj.weight", "module.layers1.0.blocks.1.attn.proj.bias", "module.layers1.0.blocks.1.norm2.weight", "module.layers1.0.blocks.1.norm2.bias", "module.layers1.0.blocks.1.mlp.fc1.weight", "module.layers1.0.blocks.1.mlp.fc1.bias", "module.layers1.0.blocks.1.mlp.fc2.weight", "module.layers1.0.blocks.1.mlp.fc2.bias", "module.layers1.0.downsample.reduction.weight", "module.layers1.0.downsample.norm.weight", "module.layers1.0.downsample.norm.bias", "module.layers2.0.blocks.0.norm1.weight", "module.layers2.0.blocks.0.norm1.bias", "module.layers2.0.blocks.0.attn.relative_position_bias_table", "module.layers2.0.blocks.0.attn.relative_position_index", "module.layers2.0.blocks.0.attn.qkv.weight", "module.layers2.0.blocks.0.attn.qkv.bias", "module.layers2.0.blocks.0.attn.proj.weight", "module.layers2.0.blocks.0.attn.proj.bias", "module.layers2.0.blocks.0.norm2.weight", "module.layers2.0.blocks.0.norm2.bias", "module.layers2.0.blocks.0.mlp.fc1.weight", "module.layers2.0.blocks.0.mlp.fc1.bias", "module.layers2.0.blocks.0.mlp.fc2.weight", "module.layers2.0.blocks.0.mlp.fc2.bias", "module.layers2.0.blocks.1.norm1.weight", "module.layers2.0.blocks.1.norm1.bias", "module.layers2.0.blocks.1.attn.relative_position_bias_table", "module.layers2.0.blocks.1.attn.relative_position_index", "module.layers2.0.blocks.1.attn.qkv.weight", "module.layers2.0.blocks.1.attn.qkv.bias", "module.layers2.0.blocks.1.attn.proj.weight", "module.layers2.0.blocks.1.attn.proj.bias", "module.layers2.0.blocks.1.norm2.weight", "module.layers2.0.blocks.1.norm2.bias", "module.layers2.0.blocks.1.mlp.fc1.weight", "module.layers2.0.blocks.1.mlp.fc1.bias", "module.layers2.0.blocks.1.mlp.fc2.weight", "module.layers2.0.blocks.1.mlp.fc2.bias", "module.layers2.0.downsample.reduction.weight", "module.layers2.0.downsample.norm.weight", "module.layers2.0.downsample.norm.bias", "module.layers3.0.blocks.0.norm1.weight", "module.layers3.0.blocks.0.norm1.bias", "module.layers3.0.blocks.0.attn.relative_position_bias_table", "module.layers3.0.blocks.0.attn.relative_position_index", "module.layers3.0.blocks.0.attn.qkv.weight", "module.layers3.0.blocks.0.attn.qkv.bias", "module.layers3.0.blocks.0.attn.proj.weight", "module.layers3.0.blocks.0.attn.proj.bias", "module.layers3.0.blocks.0.norm2.weight", "module.layers3.0.blocks.0.norm2.bias", "module.layers3.0.blocks.0.mlp.fc1.weight", "module.layers3.0.blocks.0.mlp.fc1.bias", "module.layers3.0.blocks.0.mlp.fc2.weight", "module.layers3.0.blocks.0.mlp.fc2.bias", "module.layers3.0.blocks.1.norm1.weight", "module.layers3.0.blocks.1.norm1.bias", "module.layers3.0.blocks.1.attn.relative_position_bias_table", "module.layers3.0.blocks.1.attn.relative_position_index", "module.layers3.0.blocks.1.attn.qkv.weight", "module.layers3.0.blocks.1.attn.qkv.bias", "module.layers3.0.blocks.1.attn.proj.weight", "module.layers3.0.blocks.1.attn.proj.bias", "module.layers3.0.blocks.1.norm2.weight", "module.layers3.0.blocks.1.norm2.bias", "module.layers3.0.blocks.1.mlp.fc1.weight", "module.layers3.0.blocks.1.mlp.fc1.bias", "module.layers3.0.blocks.1.mlp.fc2.weight", "module.layers3.0.blocks.1.mlp.fc2.bias", "module.layers3.0.downsample.reduction.weight", "module.layers3.0.downsample.norm.weight", "module.layers3.0.downsample.norm.bias", "module.layers4.0.blocks.0.norm1.weight", "module.layers4.0.blocks.0.norm1.bias", "module.layers4.0.blocks.0.attn.relative_position_bias_table", "module.layers4.0.blocks.0.attn.relative_position_index", "module.layers4.0.blocks.0.attn.qkv.weight", "module.layers4.0.blocks.0.attn.qkv.bias", "module.layers4.0.blocks.0.attn.proj.weight", "module.layers4.0.blocks.0.attn.proj.bias", "module.layers4.0.blocks.0.norm2.weight", "module.layers4.0.blocks.0.norm2.bias", "module.layers4.0.blocks.0.mlp.fc1.weight", "module.layers4.0.blocks.0.mlp.fc1.bias", "module.layers4.0.blocks.0.mlp.fc2.weight", "module.layers4.0.blocks.0.mlp.fc2.bias", "module.layers4.0.blocks.1.norm1.weight", "module.layers4.0.blocks.1.norm1.bias", "module.layers4.0.blocks.1.attn.relative_position_bias_table", "module.layers4.0.blocks.1.attn.relative_position_index", "module.layers4.0.blocks.1.attn.qkv.weight", "module.layers4.0.blocks.1.attn.qkv.bias", "module.layers4.0.blocks.1.attn.proj.weight", "module.layers4.0.blocks.1.attn.proj.bias", "module.layers4.0.blocks.1.norm2.weight", "module.layers4.0.blocks.1.norm2.bias", "module.layers4.0.blocks.1.mlp.fc1.weight", "module.layers4.0.blocks.1.mlp.fc1.bias", "module.layers4.0.blocks.1.mlp.fc2.weight", "module.layers4.0.blocks.1.mlp.fc2.bias", "module.layers4.0.downsample.reduction.weight", "module.layers4.0.downsample.norm.weight", "module.layers4.0.downsample.norm.bias", "module.norm.weight", "module.norm.bias", "module.convTrans3d.weight", "module.convTrans3d.bias", "module.rotation_head.weight", "module.rotation_head.bias", "module.contrastive_head.weight", "module.contrastive_head.bias". 
2025-10-04 00:53:01,837 - segmentation.swin_unetr_model - INFO - Swin UNETR model initialized on device: cpu
2025-10-04 00:53:01,837 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-10-04 00:53:01,837 - segmentation.postprocessing - INFO - Segmentation postprocessor initialized
2025-10-04 00:53:01,838 - segmentation.segmentation_pipeline - INFO - Segmentation pipeline initialized
2025-10-04 00:53:01,838 - main - INFO - Segmentation pipeline initialized
2025-10-04 00:53:01,839 - api_server - ERROR - Failed to initialize pipeline: 'index'
2025-10-04 00:54:00,094 - api_server - INFO - Shutting down API server...
2025-10-04 00:54:12,676 - main - INFO - Loaded config: segmentation_config.yaml
2025-10-04 00:54:12,683 - main - INFO - Loaded config: vector_store_config.yaml
2025-10-04 00:54:12,689 - main - INFO - Loaded config: llm_config.yaml
2025-10-04 00:54:12,696 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-10-04 00:54:12,707 - main - INFO - Loaded config: deployment_config.yaml
2025-10-04 00:54:12,708 - main - INFO - MedTech Pipeline initialized
2025-10-04 00:54:12,708 - main - INFO - Initializing pipeline components...
2025-10-04 00:54:12,809 - segmentation.swin_unetr_model - INFO - Swin UNETR model initialized on device: cpu
2025-10-04 00:54:12,809 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-10-04 00:54:12,809 - segmentation.postprocessing - INFO - Segmentation postprocessor initialized
2025-10-04 00:54:12,810 - segmentation.segmentation_pipeline - INFO - Segmentation pipeline initialized
2025-10-04 00:54:12,810 - main - INFO - Segmentation pipeline initialized
2025-11-08 01:08:30,391 - api_server - INFO - Initializing MedTech Pipeline...
2025-11-08 01:08:30,396 - main - INFO - Loaded config: segmentation_config.yaml
2025-11-08 01:08:30,399 - main - INFO - Loaded config: vector_store_config.yaml
2025-11-08 01:08:30,405 - main - INFO - Loaded config: llm_config.yaml
2025-11-08 01:08:30,412 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-11-08 01:08:30,422 - main - INFO - Loaded config: deployment_config.yaml
2025-11-08 01:08:30,422 - main - INFO - MedTech Pipeline initialized
2025-11-08 01:08:30,422 - main - INFO - Initializing pipeline components...
2025-11-08 01:08:30,599 - segmentation.swin_unetr_model - INFO - Swin UNETR model initialized on device: cpu
2025-11-08 01:08:30,599 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-11-08 01:08:30,599 - segmentation.postprocessing - INFO - Segmentation postprocessor initialized
2025-11-08 01:08:30,599 - segmentation.segmentation_pipeline - INFO - Segmentation pipeline initialized
2025-11-08 01:08:30,599 - main - INFO - Segmentation pipeline initialized
2025-11-08 01:08:30,599 - api_server - ERROR - Failed to initialize pipeline: 'index'
2025-11-08 08:39:48,594 - api_server - INFO - Shutting down API server...
2025-11-08 09:12:16,690 - api_server - INFO - Initializing MedTech Pipeline...
2025-11-08 09:12:16,694 - main - INFO - Loaded config: segmentation_config.yaml
2025-11-08 09:12:16,698 - main - INFO - Loaded config: vector_store_config.yaml
2025-11-08 09:12:16,703 - main - INFO - Loaded config: llm_config.yaml
2025-11-08 09:12:16,711 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-11-08 09:12:16,721 - main - INFO - Loaded config: deployment_config.yaml
2025-11-08 09:12:16,721 - main - INFO - MedTech Pipeline initialized
2025-11-08 09:12:16,721 - main - INFO - Initializing pipeline components...
2025-11-08 09:12:16,873 - segmentation.swin_unetr_model - INFO - Swin UNETR model initialized on device: cpu
2025-11-08 09:12:16,873 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-11-08 09:12:16,873 - segmentation.postprocessing - INFO - Segmentation postprocessor initialized
2025-11-08 09:12:16,873 - segmentation.segmentation_pipeline - INFO - Segmentation pipeline initialized
2025-11-08 09:12:16,874 - main - INFO - Segmentation pipeline initialized
2025-11-08 09:12:16,874 - api_server - ERROR - Failed to initialize pipeline: 'index'
2025-11-08 10:58:35,732 - api_server - INFO - Initializing MedTech Pipeline...
2025-11-08 10:58:35,747 - main - INFO - Loaded config: segmentation_config.yaml
2025-11-08 10:58:35,758 - main - INFO - Loaded config: vector_store_config.yaml
2025-11-08 10:58:35,773 - main - INFO - Loaded config: llm_config.yaml
2025-11-08 10:58:35,788 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-11-08 10:58:35,808 - main - INFO - Loaded config: deployment_config.yaml
2025-11-08 10:58:35,809 - main - INFO - MedTech Pipeline initialized
2025-11-08 10:58:35,809 - main - INFO - Initializing pipeline components...
2025-11-08 10:58:36,026 - segmentation.swin_unetr_model - INFO - Swin UNETR model initialized on device: cpu
2025-11-08 10:58:36,026 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-11-08 10:58:36,026 - segmentation.postprocessing - INFO - Segmentation postprocessor initialized
2025-11-08 10:58:36,027 - segmentation.segmentation_pipeline - INFO - Segmentation pipeline initialized
2025-11-08 10:58:36,027 - main - INFO - Segmentation pipeline initialized
2025-11-08 10:58:36,027 - api_server - ERROR - Failed to initialize pipeline: 'index'
2025-11-08 11:08:46,086 - api_server - INFO - Shutting down API server...
2025-11-08 11:09:21,466 - api_server - INFO - Initializing MedTech Pipeline...
2025-11-08 11:09:21,474 - main - INFO - Loaded config: segmentation_config.yaml
2025-11-08 11:09:21,483 - main - INFO - Loaded config: vector_store_config.yaml
2025-11-08 11:09:21,496 - main - INFO - Loaded config: llm_config.yaml
2025-11-08 11:09:21,514 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-11-08 11:09:21,537 - main - INFO - Loaded config: deployment_config.yaml
2025-11-08 11:09:21,537 - main - INFO - MedTech Pipeline initialized
2025-11-08 11:09:21,537 - main - INFO - Initializing pipeline components...
2025-11-08 11:09:21,681 - segmentation.swin_unetr_model - INFO - Swin UNETR model initialized on device: cpu
2025-11-08 11:09:21,682 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-11-08 11:09:21,682 - segmentation.postprocessing - INFO - Segmentation postprocessor initialized
2025-11-08 11:09:21,682 - segmentation.segmentation_pipeline - INFO - Segmentation pipeline initialized
2025-11-08 11:09:21,682 - main - INFO - Segmentation pipeline initialized
2025-11-08 11:09:21,682 - vector_store - INFO - Building new FAISS index from config
2025-11-08 11:09:21,695 - vector_store - INFO - Created IndexFlatL2
2025-11-08 11:09:21,697 - vector_store - INFO - Saved new FAISS index to data/faiss_index
2025-11-08 11:09:21,697 - main - INFO - Vector store initialized
2025-11-08 11:09:21,698 - llm.medical_llm - ERROR - Failed to initialize model: 'biomistral'
2025-11-08 11:09:21,698 - llm.medical_llm - WARNING - Using dummy model for testing
2025-11-08 11:09:21,698 - llm.medical_llm - INFO - Medical LLM initialized: biomistral
2025-11-08 11:09:21,698 - main - INFO - Medical LLM initialized
2025-11-08 11:09:21,698 - api_server - ERROR - Failed to initialize pipeline: 'fhir_server'
2025-11-08 11:18:13,961 - api_server - INFO - Shutting down API server...
2025-11-08 11:18:40,510 - api_server - INFO - Initializing MedTech Pipeline...
2025-11-08 11:18:40,521 - main - INFO - Loaded config: segmentation_config.yaml
2025-11-08 11:18:40,531 - main - INFO - Loaded config: vector_store_config.yaml
2025-11-08 11:18:40,548 - main - INFO - Loaded config: llm_config.yaml
2025-11-08 11:18:40,564 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-11-08 11:18:40,587 - main - INFO - Loaded config: deployment_config.yaml
2025-11-08 11:18:40,587 - main - INFO - MedTech Pipeline initialized
2025-11-08 11:18:40,587 - main - INFO - Initializing pipeline components...
2025-11-08 11:18:40,723 - segmentation.swin_unetr_model - INFO - Swin UNETR model initialized on device: cpu
2025-11-08 11:18:40,723 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-11-08 11:18:40,723 - segmentation.postprocessing - INFO - Segmentation postprocessor initialized
2025-11-08 11:18:40,723 - segmentation.segmentation_pipeline - INFO - Segmentation pipeline initialized
2025-11-08 11:18:40,724 - main - INFO - Segmentation pipeline initialized
2025-11-08 11:18:40,724 - vector_store - INFO - Loading FAISS index from data/faiss_index
2025-11-08 11:18:40,726 - vector_store - INFO - FAISS index loaded from disk
2025-11-08 11:18:40,728 - vector_store - INFO - Moving FAISS index to GPU 0
2025-11-08 11:38:20,421 - api_server - INFO - Initializing MedTech Pipeline...
2025-11-08 11:38:20,429 - main - INFO - Loaded config: segmentation_config.yaml
2025-11-08 11:38:20,436 - main - INFO - Loaded config: vector_store_config.yaml
2025-11-08 11:38:20,446 - main - INFO - Loaded config: llm_config.yaml
2025-11-08 11:38:20,461 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-11-08 11:38:20,482 - main - INFO - Loaded config: deployment_config.yaml
2025-11-08 11:38:20,482 - main - INFO - MedTech Pipeline initialized
2025-11-08 11:38:20,483 - main - INFO - Initializing pipeline components...
2025-11-08 11:38:20,602 - segmentation.swin_unetr_model - INFO - Swin UNETR model initialized on device: cpu
2025-11-08 11:38:20,603 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-11-08 11:38:20,603 - segmentation.postprocessing - INFO - Segmentation postprocessor initialized
2025-11-08 11:38:20,603 - segmentation.segmentation_pipeline - INFO - Segmentation pipeline initialized
2025-11-08 11:38:20,603 - main - INFO - Segmentation pipeline initialized
2025-11-08 11:38:20,604 - vector_store - INFO - Loading FAISS index from data/faiss_index
2025-11-08 11:38:20,604 - vector_store - INFO - FAISS index loaded from disk
2025-11-08 11:38:20,604 - vector_store - INFO - Moving FAISS index to GPU 0
2025-11-08 11:38:21,544 - vector_store - INFO - Index moved to GPU
2025-11-08 11:38:21,544 - main - INFO - Vector store initialized
2025-11-08 11:38:21,544 - llm.medical_llm - ERROR - Failed to initialize model: 'biomistral'
2025-11-08 11:38:21,545 - llm.medical_llm - WARNING - Using dummy model for testing
2025-11-08 11:38:21,545 - llm.medical_llm - INFO - Medical LLM initialized: biomistral
2025-11-08 11:38:21,545 - main - INFO - Medical LLM initialized
2025-11-08 11:38:21,545 - api_server - ERROR - Failed to initialize pipeline: 'fhir_server'
2025-11-08 11:51:06,855 - api_server - INFO - Shutting down API server...
2025-11-08 11:55:55,025 - api_server - INFO - Initializing MedTech Pipeline...
2025-11-08 11:55:55,034 - main - INFO - Loaded config: segmentation_config.yaml
2025-11-08 11:55:55,041 - main - INFO - Loaded config: vector_store_config.yaml
2025-11-08 11:55:55,054 - main - INFO - Loaded config: llm_config.yaml
2025-11-08 11:55:55,070 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-11-08 11:55:55,091 - main - INFO - Loaded config: deployment_config.yaml
2025-11-08 11:55:55,092 - main - INFO - MedTech Pipeline initialized
2025-11-08 11:55:55,092 - main - INFO - Initializing pipeline components...
2025-11-08 11:55:55,222 - segmentation.swin_unetr_model - INFO - Swin UNETR model initialized on device: cpu
2025-11-08 11:55:55,223 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-11-08 11:55:55,223 - segmentation.postprocessing - INFO - Segmentation postprocessor initialized
2025-11-08 11:55:55,224 - segmentation.segmentation_pipeline - INFO - Segmentation pipeline initialized
2025-11-08 11:55:55,224 - main - INFO - Segmentation pipeline initialized
2025-11-08 11:55:55,225 - vector_store - INFO - Loading FAISS index from data/faiss_index
2025-11-08 11:55:55,226 - vector_store - INFO - FAISS index loaded from disk
2025-11-08 11:55:55,226 - vector_store - INFO - Moving FAISS index to GPU 0
2025-11-08 11:55:55,868 - vector_store - INFO - Index moved to GPU
2025-11-08 11:55:55,869 - main - INFO - Vector store initialized
2025-11-08 11:55:55,869 - llm.medical_llm - ERROR - Failed to initialize model: 'biomistral'
2025-11-08 11:55:55,869 - llm.medical_llm - WARNING - Using dummy model for testing
2025-11-08 11:55:55,869 - llm.medical_llm - INFO - Medical LLM initialized: biomistral
2025-11-08 11:55:55,869 - main - INFO - Medical LLM initialized
2025-11-08 11:55:55,869 - api_server - ERROR - Failed to initialize pipeline: 'fhir_server'
2025-11-08 11:59:25,851 - api_server - INFO - Shutting down API server...
2025-11-08 12:03:34,747 - api_server - INFO - Initializing MedTech Pipeline...
2025-11-08 12:03:34,757 - main - INFO - Loaded config: segmentation_config.yaml
2025-11-08 12:03:34,765 - main - INFO - Loaded config: vector_store_config.yaml
2025-11-08 12:03:34,781 - main - INFO - Loaded config: llm_config.yaml
2025-11-08 12:03:34,796 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-11-08 12:03:34,816 - main - INFO - Loaded config: deployment_config.yaml
2025-11-08 12:03:34,816 - main - INFO - MedTech Pipeline initialized
2025-11-08 12:03:34,816 - main - INFO - Initializing pipeline components...
2025-11-08 12:03:34,943 - segmentation.swin_unetr_model - INFO - Swin UNETR model initialized on device: cpu
2025-11-08 12:03:34,943 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-11-08 12:03:34,944 - segmentation.postprocessing - INFO - Segmentation postprocessor initialized
2025-11-08 12:03:34,944 - segmentation.segmentation_pipeline - INFO - Segmentation pipeline initialized
2025-11-08 12:03:34,944 - main - INFO - Segmentation pipeline initialized
2025-11-08 12:03:34,945 - vector_store - INFO - Loading FAISS index from data/faiss_index
2025-11-08 12:03:34,945 - vector_store - INFO - FAISS index loaded from disk
2025-11-08 12:03:34,945 - vector_store - INFO - Moving FAISS index to GPU 0
2025-11-08 12:03:35,767 - vector_store - INFO - Index moved to GPU
2025-11-08 12:03:35,767 - main - INFO - Vector store initialized
2025-11-08 12:03:35,767 - llm.medical_llm - INFO - Loading model from Hugging Face Hub: None
2025-11-08 12:03:36,076 - llm.medical_llm - ERROR - Failed to initialize model: None is not a local folder and is not a valid model identifier listed on 'https://huggingface.co/models'
If this is a private repository, make sure to pass a token having permission to this repo either by logging in with `hf auth login` or by passing `token=<your_token>`
2025-11-08 12:03:36,077 - llm.medical_llm - WARNING - Using dummy model for testing
2025-11-08 12:03:36,077 - llm.medical_llm - INFO - Medical LLM initialized: biomistral
2025-11-08 12:03:36,077 - main - INFO - Medical LLM initialized
2025-11-08 12:03:36,077 - api_server - ERROR - Failed to initialize pipeline: 'fhir_server'
2025-11-08 12:08:12,931 - api_server - INFO - Shutting down API server...
2025-11-08 12:08:32,423 - api_server - INFO - Initializing MedTech Pipeline...
2025-11-08 12:08:32,431 - main - INFO - Loaded config: segmentation_config.yaml
2025-11-08 12:08:32,440 - main - INFO - Loaded config: vector_store_config.yaml
2025-11-08 12:08:32,452 - main - INFO - Loaded config: llm_config.yaml
2025-11-08 12:08:32,474 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-11-08 12:08:32,499 - main - INFO - Loaded config: deployment_config.yaml
2025-11-08 12:08:32,500 - main - INFO - MedTech Pipeline initialized
2025-11-08 12:08:32,500 - main - INFO - Initializing pipeline components...
2025-11-08 12:08:32,616 - segmentation.swin_unetr_model - INFO - Swin UNETR model initialized on device: cpu
2025-11-08 12:08:32,616 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-11-08 12:08:32,616 - segmentation.postprocessing - INFO - Segmentation postprocessor initialized
2025-11-08 12:08:32,616 - segmentation.segmentation_pipeline - INFO - Segmentation pipeline initialized
2025-11-08 12:08:32,616 - main - INFO - Segmentation pipeline initialized
2025-11-08 12:08:32,618 - vector_store - INFO - Loading FAISS index from data/faiss_index
2025-11-08 12:08:32,618 - vector_store - INFO - FAISS index loaded from disk
2025-11-08 12:08:32,618 - vector_store - INFO - Moving FAISS index to GPU 0
2025-11-08 12:08:33,368 - vector_store - INFO - Index moved to GPU
2025-11-08 12:08:33,368 - main - INFO - Vector store initialized
2025-11-08 12:08:33,369 - llm.medical_llm - INFO - Loading local model from /home/samba/projects/MedTech-Diagnostic-LLM-Pipeline/models/biomistral
2025-11-08 12:08:36,385 - accelerate.utils.modeling - INFO - We will use 90% of the memory on device 0 for storing the model, and 10% for the buffer to avoid OOM. You can set `max_memory` in to a higher value to use more memory (at your own risk).
2025-11-08 12:08:36,416 - llm.medical_llm - ERROR - Failed to initialize model: Some modules are dispatched on the CPU or the disk. Make sure you have enough GPU RAM to fit the quantized model. If you want to dispatch the model on the CPU or the disk while keeping these modules in 32-bit, you need to set `llm_int8_enable_fp32_cpu_offload=True` and pass a custom `device_map` to `from_pretrained`. Check https://huggingface.co/docs/transformers/main/en/main_classes/quantization#offload-between-cpu-and-gpu for more details. 
2025-11-08 12:08:36,416 - llm.medical_llm - WARNING - Using dummy model for testing
2025-11-08 12:08:36,428 - llm.medical_llm - INFO - Medical LLM initialized: biomistral
2025-11-08 12:08:36,428 - main - INFO - Medical LLM initialized
2025-11-08 12:08:36,429 - mcp_fhir.mcp_fhir_client - INFO - MCP-FHIR client initialized
2025-11-08 12:08:36,429 - main - INFO - MCP-FHIR client initialized
2025-11-08 12:08:36,430 - feedback.feedback_collector - INFO - Feedback collector initialized
2025-11-08 12:08:36,430 - main - INFO - Feedback collector initialized
2025-11-08 12:08:36,430 - deployment.pipeline_deployer - INFO - Pipeline deployer initialized
2025-11-08 12:08:36,430 - main - INFO - Pipeline deployer initialized
2025-11-08 12:08:36,430 - api_server - INFO - Pipeline initialized successfully
2025-11-08 12:09:49,619 - api_server - INFO - Shutting down API server...
2025-11-08 12:12:04,327 - api_server - INFO - Initializing MedTech Pipeline...
2025-11-08 12:12:04,338 - main - INFO - Loaded config: segmentation_config.yaml
2025-11-08 12:12:04,346 - main - INFO - Loaded config: vector_store_config.yaml
2025-11-08 12:12:04,361 - main - INFO - Loaded config: llm_config.yaml
2025-11-08 12:12:04,376 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-11-08 12:12:04,399 - main - INFO - Loaded config: deployment_config.yaml
2025-11-08 12:12:04,400 - main - INFO - MedTech Pipeline initialized
2025-11-08 12:12:04,400 - main - INFO - Initializing pipeline components...
2025-11-08 12:12:04,518 - segmentation.swin_unetr_model - INFO - Swin UNETR model initialized on device: cpu
2025-11-08 12:12:04,518 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-11-08 12:12:04,518 - segmentation.postprocessing - INFO - Segmentation postprocessor initialized
2025-11-08 12:12:04,519 - segmentation.segmentation_pipeline - INFO - Segmentation pipeline initialized
2025-11-08 12:12:04,519 - main - INFO - Segmentation pipeline initialized
2025-11-08 12:12:04,520 - vector_store - INFO - Loading FAISS index from data/faiss_index
2025-11-08 12:12:04,520 - vector_store - INFO - FAISS index loaded from disk
2025-11-08 12:12:04,520 - vector_store - INFO - Moving FAISS index to GPU 0
2025-11-08 12:12:05,558 - vector_store - INFO - Index moved to GPU
2025-11-08 12:12:05,558 - main - INFO - Vector store initialized
2025-11-08 12:12:05,559 - llm.medical_llm - INFO - Loading local model from /home/samba/projects/MedTech-Diagnostic-LLM-Pipeline/models/biomistral
2025-11-08 12:12:05,708 - llm.medical_llm - INFO - Using BitsAndBytesConfig for 8-bit quantization with CPU offloading enabled
2025-11-08 12:12:05,902 - accelerate.utils.modeling - INFO - We will use 90% of the memory on device 0 for storing the model, and 10% for the buffer to avoid OOM. You can set `max_memory` in to a higher value to use more memory (at your own risk).
2025-11-08 12:12:05,936 - llm.medical_llm - ERROR - Failed to initialize model: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434
2025-11-08 12:12:05,936 - llm.medical_llm - WARNING - Using dummy model for testing
2025-11-08 12:12:05,946 - llm.medical_llm - INFO - Medical LLM initialized: biomistral
2025-11-08 12:12:05,946 - main - INFO - Medical LLM initialized
2025-11-08 12:12:05,946 - mcp_fhir.mcp_fhir_client - INFO - MCP-FHIR client initialized
2025-11-08 12:12:05,947 - main - INFO - MCP-FHIR client initialized
2025-11-08 12:12:05,947 - feedback.feedback_collector - INFO - Feedback collector initialized
2025-11-08 12:12:05,947 - main - INFO - Feedback collector initialized
2025-11-08 12:12:05,947 - deployment.pipeline_deployer - INFO - Pipeline deployer initialized
2025-11-08 12:12:05,947 - main - INFO - Pipeline deployer initialized
2025-11-08 12:12:05,947 - api_server - INFO - Pipeline initialized successfully
2025-11-08 12:12:11,270 - api_server - INFO - Shutting down API server...
2025-11-08 13:29:23,210 - api_server - INFO - Initializing MedTech Pipeline...
2025-11-08 13:29:23,215 - main - INFO - Loaded config: segmentation_config.yaml
2025-11-08 13:29:23,219 - main - INFO - Loaded config: vector_store_config.yaml
2025-11-08 13:29:23,224 - main - INFO - Loaded config: llm_config.yaml
2025-11-08 13:29:23,235 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-11-08 13:29:23,247 - main - INFO - Loaded config: deployment_config.yaml
2025-11-08 13:29:23,247 - main - INFO - MedTech Pipeline initialized
2025-11-08 13:29:23,247 - main - INFO - Initializing pipeline components...
2025-11-08 13:29:23,396 - segmentation.swin_unetr_model - INFO - Swin UNETR model initialized on device: cpu
2025-11-08 13:29:23,396 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-11-08 13:29:23,396 - segmentation.postprocessing - INFO - Segmentation postprocessor initialized
2025-11-08 13:29:23,396 - segmentation.segmentation_pipeline - INFO - Segmentation pipeline initialized
2025-11-08 13:29:23,396 - main - INFO - Segmentation pipeline initialized
2025-11-08 13:29:23,396 - vector_store - INFO - Loading FAISS index from data/faiss_index
2025-11-08 13:29:23,399 - vector_store - INFO - FAISS index loaded from disk
2025-11-08 13:29:23,400 - vector_store - INFO - Moving FAISS index to GPU 0
2025-11-08 13:29:23,728 - vector_store - INFO - Index moved to GPU
2025-11-08 13:29:23,729 - main - INFO - Vector store initialized
2025-11-08 13:29:23,729 - llm.medical_llm - INFO - Loading local model from /home/samba/projects/MedTech-Diagnostic-LLM-Pipeline/models/biomistral
2025-11-08 13:29:23,808 - llm.medical_llm - INFO - Using BitsAndBytesConfig for 8-bit quantization with CPU offloading enabled
2025-11-08 13:29:23,818 - llm.medical_llm - ERROR - Failed to initialize model: Error no file named pytorch_model.bin, model.safetensors, tf_model.h5, model.ckpt.index or flax_model.msgpack found in directory /home/samba/projects/MedTech-Diagnostic-LLM-Pipeline/models/biomistral.
2025-11-08 13:29:23,818 - llm.medical_llm - WARNING - Using dummy model for testing
2025-11-08 13:29:23,822 - llm.medical_llm - INFO - Medical LLM initialized: biomistral
2025-11-08 13:29:23,822 - main - INFO - Medical LLM initialized
2025-11-08 13:29:23,822 - mcp_fhir.mcp_fhir_client - INFO - MCP-FHIR client initialized
2025-11-08 13:29:23,822 - main - INFO - MCP-FHIR client initialized
2025-11-08 13:29:23,822 - feedback.feedback_collector - INFO - Feedback collector initialized
2025-11-08 13:29:23,822 - main - INFO - Feedback collector initialized
2025-11-08 13:29:23,822 - deployment.pipeline_deployer - INFO - Pipeline deployer initialized
2025-11-08 13:29:23,822 - main - INFO - Pipeline deployer initialized
2025-11-08 13:29:23,823 - api_server - INFO - Pipeline initialized successfully
2025-11-08 13:29:37,457 - api_server - INFO - Shutting down API server...
2025-11-14 18:45:41,104 - api_server - INFO - Initializing MedTech Pipeline...
2025-11-14 18:45:41,116 - main - INFO - Loaded config: segmentation_config.yaml
2025-11-14 18:45:41,125 - main - INFO - Loaded config: vector_store_config.yaml
2025-11-14 18:45:41,135 - main - INFO - Loaded config: llm_config.yaml
2025-11-14 18:45:41,147 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-11-14 18:45:41,167 - main - INFO - Loaded config: deployment_config.yaml
2025-11-14 18:45:41,168 - main - INFO - MedTech Pipeline initialized
2025-11-14 18:45:41,169 - main - INFO - Initializing pipeline components...
2025-11-14 18:45:41,447 - segmentation.swin_unetr_model - INFO - Swin UNETR model initialized on device: cpu
2025-11-14 18:45:41,447 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-11-14 18:45:41,448 - segmentation.postprocessing - INFO - Segmentation postprocessor initialized
2025-11-14 18:45:41,449 - segmentation.segmentation_pipeline - INFO - Segmentation pipeline initialized
2025-11-14 18:45:41,449 - main - INFO - Segmentation pipeline initialized
2025-11-14 18:45:41,452 - vector_store - INFO - Loading FAISS index from data\faiss_index
2025-11-14 18:45:41,453 - vector_store - INFO - FAISS index loaded from disk
2025-11-14 18:45:41,453 - vector_store - WARNING - Failed to move index to GPU: module 'faiss' has no attribute 'StandardGpuResources'
2025-11-14 18:45:41,453 - main - INFO - Vector store initialized
2025-11-14 18:45:41,453 - llm.medical_llm - WARNING - No HuggingFace token found. Some models may require authentication. Set HUGGINGFACE_HUB_TOKEN environment variable.
2025-11-14 18:45:41,454 - llm.medical_llm - INFO - Loading model from Hugging Face Hub: BioMistral/BioMistral-7B
2025-11-14 18:45:43,309 - huggingface_hub.file_download - WARNING - Xet Storage is enabled for this repo, but the 'hf_xet' package is not installed. Falling back to regular HTTP download. For better performance, install the package with: `pip install huggingface_hub[hf_xet]` or `pip install hf_xet`
2025-11-14 18:45:45,602 - llm.medical_llm - INFO - Using BitsAndBytesConfig for 8-bit quantization with CPU offloading enabled
2025-11-14 18:45:46,886 - huggingface_hub.file_download - WARNING - Xet Storage is enabled for this repo, but the 'hf_xet' package is not installed. Falling back to regular HTTP download. For better performance, install the package with: `pip install huggingface_hub[hf_xet]` or `pip install hf_xet`
2025-11-14 19:09:53,002 - api_server - INFO - Initializing MedTech Pipeline...
2025-11-14 19:09:53,011 - main - INFO - Loaded config: segmentation_config.yaml
2025-11-14 19:09:53,016 - main - INFO - Loaded config: vector_store_config.yaml
2025-11-14 19:09:53,025 - main - INFO - Loaded config: llm_config.yaml
2025-11-14 19:09:53,036 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-11-14 19:09:53,056 - main - INFO - Loaded config: deployment_config.yaml
2025-11-14 19:09:53,057 - main - INFO - MedTech Pipeline initialized
2025-11-14 19:09:53,058 - main - INFO - Initializing pipeline components...
2025-11-14 19:09:53,257 - segmentation.swin_unetr_model - INFO - Swin UNETR model initialized on device: cpu
2025-11-14 19:09:53,257 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-11-14 19:09:53,258 - segmentation.postprocessing - INFO - Segmentation postprocessor initialized
2025-11-14 19:09:53,259 - segmentation.segmentation_pipeline - INFO - Segmentation pipeline initialized
2025-11-14 19:09:53,259 - main - INFO - Segmentation pipeline initialized
2025-11-14 19:09:53,262 - vector_store - INFO - Loading FAISS index from data\faiss_index
2025-11-14 19:09:53,266 - vector_store - INFO - FAISS index loaded from disk
2025-11-14 19:09:53,266 - vector_store - WARNING - Failed to move index to GPU: module 'faiss' has no attribute 'StandardGpuResources'
2025-11-14 19:09:53,266 - main - INFO - Vector store initialized
2025-11-14 19:09:53,266 - llm.medical_llm - WARNING - No HuggingFace token found. Inference API requires authentication.
2025-11-14 19:09:53,268 - llm.medical_llm - WARNING - Falling back to local model loading...
2025-11-14 19:09:53,268 - llm.medical_llm - WARNING - No HuggingFace token found. Some models may require authentication. Set HUGGINGFACE_HUB_TOKEN environment variable.
2025-11-14 19:09:53,268 - llm.medical_llm - INFO - Loading model from Hugging Face Hub: BioMistral/BioMistral-7B
2025-11-14 19:09:55,215 - huggingface_hub.file_download - WARNING - Xet Storage is enabled for this repo, but the 'hf_xet' package is not installed. Falling back to regular HTTP download. For better performance, install the package with: `pip install huggingface_hub[hf_xet]` or `pip install hf_xet`
2025-11-14 19:09:57,976 - llm.medical_llm - INFO - Using BitsAndBytesConfig for 8-bit quantization with CPU offloading enabled
2025-11-14 19:09:59,171 - huggingface_hub.file_download - WARNING - Xet Storage is enabled for this repo, but the 'hf_xet' package is not installed. Falling back to regular HTTP download. For better performance, install the package with: `pip install huggingface_hub[hf_xet]` or `pip install hf_xet`
2025-11-14 19:42:21,249 - api_server - INFO - Initializing MedTech Pipeline...
2025-11-14 19:42:21,261 - main - INFO - Loaded config: segmentation_config.yaml
2025-11-14 19:42:21,270 - main - INFO - Loaded config: vector_store_config.yaml
2025-11-14 19:42:21,287 - main - INFO - Loaded config: llm_config.yaml
2025-11-14 19:42:21,312 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-11-14 19:42:21,336 - main - INFO - Loaded config: deployment_config.yaml
2025-11-14 19:42:21,337 - main - INFO - MedTech Pipeline initialized
2025-11-14 19:42:21,338 - main - INFO - Initializing pipeline components...
2025-11-14 19:42:21,825 - segmentation.swin_unetr_model - INFO - Swin UNETR model initialized on device: cpu
2025-11-14 19:42:21,828 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-11-14 19:42:21,843 - segmentation.postprocessing - INFO - Segmentation postprocessor initialized
2025-11-14 19:42:21,852 - segmentation.segmentation_pipeline - INFO - Segmentation pipeline initialized
2025-11-14 19:42:21,857 - main - INFO - Segmentation pipeline initialized
2025-11-14 19:42:21,870 - vector_store - INFO - Loading FAISS index from data\faiss_index
2025-11-14 19:42:21,879 - vector_store - INFO - FAISS index loaded from disk
2025-11-14 19:42:21,881 - vector_store - WARNING - Failed to move index to GPU: module 'faiss' has no attribute 'StandardGpuResources'
2025-11-14 19:42:21,882 - main - INFO - Vector store initialized
2025-11-14 19:42:21,885 - llm.medical_llm - INFO - Configuration: use_inference_api=True, model_type=biomistral
2025-11-14 19:42:22,734 - llm.medical_llm - INFO - Inference API client initialized for model: BioMistral/BioMistral-7B
2025-11-14 19:42:22,734 - llm.medical_llm - INFO - Using remote inference - no local model download required
2025-11-14 19:42:22,734 - llm.medical_llm - INFO - Medical LLM initialized: biomistral (mode: Inference API)
2025-11-14 19:42:22,736 - main - INFO - Medical LLM initialized
2025-11-14 19:42:22,736 - mcp_fhir.mcp_fhir_client - INFO - MCP-FHIR client initialized
2025-11-14 19:42:22,736 - main - INFO - MCP-FHIR client initialized
2025-11-14 19:42:22,738 - feedback.feedback_collector - INFO - Feedback collector initialized
2025-11-14 19:42:22,738 - main - INFO - Feedback collector initialized
2025-11-14 19:42:22,738 - deployment.pipeline_deployer - INFO - Pipeline deployer initialized
2025-11-14 19:42:22,738 - main - INFO - Pipeline deployer initialized
2025-11-14 19:42:22,739 - api_server - INFO - Pipeline initialized successfully
2025-11-14 19:45:30,147 - api_server - INFO - Initializing MedTech Pipeline...
2025-11-14 19:45:30,154 - main - INFO - Loaded config: segmentation_config.yaml
2025-11-14 19:45:30,159 - main - INFO - Loaded config: vector_store_config.yaml
2025-11-14 19:45:30,167 - main - INFO - Loaded config: llm_config.yaml
2025-11-14 19:45:30,178 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-11-14 19:45:30,194 - main - INFO - Loaded config: deployment_config.yaml
2025-11-14 19:45:30,194 - main - INFO - MedTech Pipeline initialized
2025-11-14 19:45:30,194 - main - INFO - Initializing pipeline components...
2025-11-14 19:45:30,347 - segmentation.swin_unetr_model - INFO - Swin UNETR model initialized on device: cpu
2025-11-14 19:45:30,347 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-11-14 19:45:30,347 - segmentation.postprocessing - INFO - Segmentation postprocessor initialized
2025-11-14 19:45:30,348 - segmentation.segmentation_pipeline - INFO - Segmentation pipeline initialized
2025-11-14 19:45:30,349 - main - INFO - Segmentation pipeline initialized
2025-11-14 19:45:30,350 - vector_store - INFO - Loading FAISS index from data\faiss_index
2025-11-14 19:45:30,353 - vector_store - INFO - FAISS index loaded from disk
2025-11-14 19:45:30,353 - vector_store - WARNING - Failed to move index to GPU: module 'faiss' has no attribute 'StandardGpuResources'
2025-11-14 19:45:30,354 - main - INFO - Vector store initialized
2025-11-14 19:45:30,354 - llm.medical_llm - INFO - Configuration: use_inference_api=True, model_type=biomistral
2025-11-14 19:45:30,354 - llm.medical_llm - INFO - [OK] HuggingFace token found (length: 37, starts with: hf_MZYA...)
2025-11-14 19:45:30,356 - llm.medical_llm - INFO - Inference API client initialized for model: BioMistral/BioMistral-7B
2025-11-14 19:45:30,357 - llm.medical_llm - INFO - Using remote inference - no local model download required
2025-11-14 19:45:30,357 - llm.medical_llm - INFO - Medical LLM initialized: biomistral (mode: Inference API)
2025-11-14 19:45:30,357 - main - INFO - Medical LLM initialized
2025-11-14 19:45:30,358 - mcp_fhir.mcp_fhir_client - INFO - MCP-FHIR client initialized
2025-11-14 19:45:30,361 - main - INFO - MCP-FHIR client initialized
2025-11-14 19:45:30,364 - feedback.feedback_collector - INFO - Feedback collector initialized
2025-11-14 19:45:30,364 - main - INFO - Feedback collector initialized
2025-11-14 19:45:30,364 - deployment.pipeline_deployer - INFO - Pipeline deployer initialized
2025-11-14 19:45:30,365 - main - INFO - Pipeline deployer initialized
2025-11-14 19:45:30,366 - api_server - INFO - Pipeline initialized successfully
2025-11-14 20:11:15,415 - api_server - INFO - Processing uploaded file: ID_00b115bfe.dcm
2025-11-14 20:11:15,428 - main - INFO - Processing medical image: data\uploads\ID_00b115bfe.dcm
2025-11-14 20:11:15,428 - main - INFO - Step 1: Performing segmentation...
2025-11-14 20:11:15,432 - segmentation.segmentation_pipeline - INFO - Processing image: data\uploads\ID_00b115bfe.dcm
2025-11-14 20:11:15,871 - segmentation.preprocessing - INFO - Loaded DICOM image: (1024, 1024)
2025-11-14 20:11:15,920 - pydicom - WARNING - Error while processing tag 00080018: Invalid value for VR UI: 'ID_00b115bfe'. Please see <https://dicom.nema.org/medical/dicom/current/output/html/part05.html#table_6.2-1> for allowed values for each VR.
2025-11-14 20:11:15,931 - pydicom - WARNING - Error while processing tag 00280030: Values for elements with a VR of 'DS' must be <= 16 characters long, but the float provided requires > 16 characters to be accurately represented. Use a smaller string, set 'config.settings.reading_validation_mode' to 'WARN' to override the length check, or explicitly construct a DS object with 'auto_format' set to True
2025-11-14 20:11:16,706 - main - ERROR - Pipeline processing failed: applying transform <monai.transforms.croppad.dictionary.SpatialPadd object at 0x000001E92B0C8690>
2025-11-14 20:17:48,324 - api_server - INFO - Initializing MedTech Pipeline...
2025-11-14 20:17:48,331 - main - INFO - Loaded config: segmentation_config.yaml
2025-11-14 20:17:48,336 - main - INFO - Loaded config: vector_store_config.yaml
2025-11-14 20:17:48,345 - main - INFO - Loaded config: llm_config.yaml
2025-11-14 20:17:48,352 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-11-14 20:17:48,365 - main - INFO - Loaded config: deployment_config.yaml
2025-11-14 20:17:48,366 - main - INFO - MedTech Pipeline initialized
2025-11-14 20:17:48,366 - main - INFO - Initializing pipeline components...
2025-11-14 20:17:48,574 - segmentation.swin_unetr_model - INFO - Swin UNETR model initialized on device: cpu
2025-11-14 20:17:48,574 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-11-14 20:17:48,575 - segmentation.postprocessing - INFO - Segmentation postprocessor initialized
2025-11-14 20:17:48,576 - segmentation.segmentation_pipeline - INFO - Segmentation pipeline initialized
2025-11-14 20:17:48,576 - main - INFO - Segmentation pipeline initialized
2025-11-14 20:17:48,579 - vector_store - INFO - Loading FAISS index from data\faiss_index
2025-11-14 20:17:48,581 - vector_store - INFO - FAISS index loaded from disk
2025-11-14 20:17:48,583 - vector_store - WARNING - Failed to move index to GPU: module 'faiss' has no attribute 'StandardGpuResources'
2025-11-14 20:17:48,584 - main - INFO - Vector store initialized
2025-11-14 20:17:48,584 - llm.medical_llm - INFO - Configuration: use_inference_api=True, model_type=biomistral
2025-11-14 20:17:48,585 - llm.medical_llm - INFO - [OK] HuggingFace token found (length: 37, starts with: hf_MZYA...)
2025-11-14 20:17:48,586 - llm.medical_llm - INFO - Inference API client initialized for model: BioMistral/BioMistral-7B
2025-11-14 20:17:48,586 - llm.medical_llm - INFO - Using remote inference - no local model download required
2025-11-14 20:17:48,587 - llm.medical_llm - INFO - Medical LLM initialized: biomistral (mode: Inference API)
2025-11-14 20:17:48,587 - main - INFO - Medical LLM initialized
2025-11-14 20:17:48,588 - mcp_fhir.mcp_fhir_client - INFO - MCP-FHIR client initialized
2025-11-14 20:17:48,589 - main - INFO - MCP-FHIR client initialized
2025-11-14 20:17:48,590 - feedback.feedback_collector - INFO - Feedback collector initialized
2025-11-14 20:17:48,590 - main - INFO - Feedback collector initialized
2025-11-14 20:17:48,591 - deployment.pipeline_deployer - INFO - Pipeline deployer initialized
2025-11-14 20:17:48,591 - main - INFO - Pipeline deployer initialized
2025-11-14 20:17:48,591 - api_server - INFO - Pipeline initialized successfully
2025-11-14 20:19:00,366 - api_server - INFO - Processing uploaded file: ID_00b0e5a9f.dcm
2025-11-14 20:19:00,373 - main - INFO - Processing medical image: data\uploads\ID_00b0e5a9f.dcm
2025-11-14 20:19:00,373 - main - INFO - Step 1: Performing segmentation...
2025-11-14 20:19:00,378 - segmentation.segmentation_pipeline - INFO - Processing image: data\uploads\ID_00b0e5a9f.dcm
2025-11-14 20:19:00,389 - segmentation.preprocessing - ERROR - Failed to load DICOM file data\uploads\ID_00b0e5a9f.dcm: 'Settings' object has no attribute 'WARN'
2025-11-14 20:19:00,391 - segmentation.preprocessing - ERROR - Failed to load image data\uploads\ID_00b0e5a9f.dcm: 'Settings' object has no attribute 'WARN'
2025-11-14 20:19:00,391 - main - ERROR - Pipeline processing failed: 'Settings' object has no attribute 'WARN'
2025-11-14 20:40:25,806 - api_server - INFO - Initializing MedTech Pipeline...
2025-11-14 20:40:25,820 - main - INFO - Loaded config: segmentation_config.yaml
2025-11-14 20:40:25,831 - main - INFO - Loaded config: vector_store_config.yaml
2025-11-14 20:40:25,846 - main - INFO - Loaded config: llm_config.yaml
2025-11-14 20:40:25,859 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-11-14 20:40:25,886 - main - INFO - Loaded config: deployment_config.yaml
2025-11-14 20:40:25,887 - main - INFO - MedTech Pipeline initialized
2025-11-14 20:40:25,888 - main - INFO - Initializing pipeline components...
2025-11-14 20:40:26,355 - segmentation.swin_unetr_model - INFO - Swin UNETR model initialized on device: cpu
2025-11-14 20:40:26,356 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-11-14 20:40:26,356 - segmentation.postprocessing - INFO - Segmentation postprocessor initialized
2025-11-14 20:40:26,359 - segmentation.segmentation_pipeline - INFO - Segmentation pipeline initialized
2025-11-14 20:40:26,360 - main - INFO - Segmentation pipeline initialized
2025-11-14 20:40:26,362 - vector_store - INFO - Loading FAISS index from data\faiss_index
2025-11-14 20:40:26,367 - vector_store - INFO - FAISS index loaded from disk
2025-11-14 20:40:26,368 - vector_store - WARNING - Failed to move index to GPU: module 'faiss' has no attribute 'StandardGpuResources'
2025-11-14 20:40:26,368 - main - INFO - Vector store initialized
2025-11-14 20:40:26,370 - llm.medical_llm - INFO - Configuration: use_inference_api=True, model_type=biomistral
2025-11-14 20:40:26,370 - llm.medical_llm - INFO - [OK] HuggingFace token found (length: 37, starts with: hf_MZYA...)
2025-11-14 20:40:26,370 - llm.medical_llm - INFO - Inference API client initialized for model: BioMistral/BioMistral-7B
2025-11-14 20:40:26,372 - llm.medical_llm - INFO - Using remote inference - no local model download required
2025-11-14 20:40:26,372 - llm.medical_llm - INFO - Medical LLM initialized: biomistral (mode: Inference API)
2025-11-14 20:40:26,373 - main - INFO - Medical LLM initialized
2025-11-14 20:40:26,374 - mcp_fhir.mcp_fhir_client - INFO - MCP-FHIR client initialized
2025-11-14 20:40:26,374 - main - INFO - MCP-FHIR client initialized
2025-11-14 20:40:26,376 - feedback.feedback_collector - INFO - Feedback collector initialized
2025-11-14 20:40:26,376 - main - INFO - Feedback collector initialized
2025-11-14 20:40:26,378 - deployment.pipeline_deployer - INFO - Pipeline deployer initialized
2025-11-14 20:40:26,378 - main - INFO - Pipeline deployer initialized
2025-11-14 20:40:26,378 - api_server - INFO - Pipeline initialized successfully
2025-11-14 20:41:25,960 - api_server - INFO - Processing uploaded file: ID_00b0e5a9f.dcm
2025-11-14 20:41:25,966 - main - INFO - Processing medical image: data\uploads\ID_00b0e5a9f.dcm
2025-11-14 20:41:25,966 - main - INFO - Step 1: Performing segmentation...
2025-11-14 20:41:25,971 - segmentation.segmentation_pipeline - INFO - Processing image: data\uploads\ID_00b0e5a9f.dcm
2025-11-14 20:41:25,977 - segmentation.preprocessing - ERROR - Failed to load DICOM file data\uploads\ID_00b0e5a9f.dcm: module 'pydicom.config' has no attribute 'ReadingValidationMode'
2025-11-14 20:41:25,979 - segmentation.preprocessing - ERROR - Failed to load image data\uploads\ID_00b0e5a9f.dcm: module 'pydicom.config' has no attribute 'ReadingValidationMode'
2025-11-14 20:41:25,979 - main - ERROR - Pipeline processing failed: module 'pydicom.config' has no attribute 'ReadingValidationMode'
2025-11-14 20:43:30,496 - api_server - INFO - Initializing MedTech Pipeline...
2025-11-14 20:43:30,504 - main - INFO - Loaded config: segmentation_config.yaml
2025-11-14 20:43:30,511 - main - INFO - Loaded config: vector_store_config.yaml
2025-11-14 20:43:30,521 - main - INFO - Loaded config: llm_config.yaml
2025-11-14 20:43:30,534 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-11-14 20:43:30,564 - main - INFO - Loaded config: deployment_config.yaml
2025-11-14 20:43:30,565 - main - INFO - MedTech Pipeline initialized
2025-11-14 20:43:30,566 - main - INFO - Initializing pipeline components...
2025-11-14 20:43:30,851 - segmentation.swin_unetr_model - INFO - Swin UNETR model initialized on device: cpu
2025-11-14 20:43:30,852 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-11-14 20:43:30,855 - segmentation.postprocessing - INFO - Segmentation postprocessor initialized
2025-11-14 20:43:30,859 - segmentation.segmentation_pipeline - INFO - Segmentation pipeline initialized
2025-11-14 20:43:30,860 - main - INFO - Segmentation pipeline initialized
2025-11-14 20:43:30,866 - vector_store - INFO - Loading FAISS index from data\faiss_index
2025-11-14 20:43:30,870 - vector_store - INFO - FAISS index loaded from disk
2025-11-14 20:43:30,870 - vector_store - WARNING - Failed to move index to GPU: module 'faiss' has no attribute 'StandardGpuResources'
2025-11-14 20:43:30,871 - main - INFO - Vector store initialized
2025-11-14 20:43:30,871 - llm.medical_llm - INFO - Configuration: use_inference_api=True, model_type=biomistral
2025-11-14 20:43:30,871 - llm.medical_llm - INFO - [OK] HuggingFace token found (length: 37, starts with: hf_MZYA...)
2025-11-14 20:43:30,874 - llm.medical_llm - INFO - Inference API client initialized for model: BioMistral/BioMistral-7B
2025-11-14 20:43:30,874 - llm.medical_llm - INFO - Using remote inference - no local model download required
2025-11-14 20:43:30,875 - llm.medical_llm - INFO - Medical LLM initialized: biomistral (mode: Inference API)
2025-11-14 20:43:30,875 - main - INFO - Medical LLM initialized
2025-11-14 20:43:30,876 - mcp_fhir.mcp_fhir_client - INFO - MCP-FHIR client initialized
2025-11-14 20:43:30,877 - main - INFO - MCP-FHIR client initialized
2025-11-14 20:43:30,877 - feedback.feedback_collector - INFO - Feedback collector initialized
2025-11-14 20:43:30,879 - main - INFO - Feedback collector initialized
2025-11-14 20:43:30,879 - deployment.pipeline_deployer - INFO - Pipeline deployer initialized
2025-11-14 20:43:30,879 - main - INFO - Pipeline deployer initialized
2025-11-14 20:43:30,879 - api_server - INFO - Pipeline initialized successfully
2025-11-14 20:43:51,847 - api_server - INFO - Processing uploaded file: ID_00f715288.dcm
2025-11-14 20:43:51,847 - main - INFO - Processing medical image: data\uploads\ID_00f715288.dcm
2025-11-14 20:43:51,849 - main - INFO - Step 1: Performing segmentation...
2025-11-14 20:43:51,852 - segmentation.segmentation_pipeline - INFO - Processing image: data\uploads\ID_00f715288.dcm
2025-11-14 20:43:51,991 - segmentation.preprocessing - INFO - Converted 2D DICOM to 3D: (1, 1024, 1024)
2025-11-14 20:43:51,993 - segmentation.preprocessing - INFO - Loaded DICOM image: (1, 1024, 1024)
2025-11-14 20:43:52,011 - pydicom - WARNING - Error while processing tag 00080018: Invalid value for VR UI: 'ID_00f715288'. Please see <https://dicom.nema.org/medical/dicom/current/output/html/part05.html#table_6.2-1> for allowed values for each VR.
2025-11-14 20:43:52,394 - segmentation.swin_unetr_model - ERROR - Preprocessing failed for data\uploads\ID_00f715288.dcm: applying transform <monai.transforms.croppad.dictionary.SpatialPadd object at 0x000001F0E7C37D50>
2025-11-14 20:43:52,398 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-11-14 20:43:52,416 - segmentation.preprocessing - INFO - Converted 2D DICOM to 3D: (1, 1024, 1024)
2025-11-14 20:43:52,418 - segmentation.preprocessing - INFO - Loaded DICOM image: (1, 1024, 1024)
2025-11-14 20:43:52,902 - main - ERROR - Pipeline processing failed: SwinUNETR.forward() got an unexpected keyword argument 'sw_overlap'
2025-11-14 20:47:40,022 - api_server - INFO - Initializing MedTech Pipeline...
2025-11-14 20:47:40,031 - main - INFO - Loaded config: segmentation_config.yaml
2025-11-14 20:47:40,037 - main - INFO - Loaded config: vector_store_config.yaml
2025-11-14 20:47:40,047 - main - INFO - Loaded config: llm_config.yaml
2025-11-14 20:47:40,058 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-11-14 20:47:40,078 - main - INFO - Loaded config: deployment_config.yaml
2025-11-14 20:47:40,079 - main - INFO - MedTech Pipeline initialized
2025-11-14 20:47:40,079 - main - INFO - Initializing pipeline components...
2025-11-14 20:47:40,289 - segmentation.swin_unetr_model - INFO - Swin UNETR model initialized on device: cpu
2025-11-14 20:47:40,290 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-11-14 20:47:40,290 - segmentation.postprocessing - INFO - Segmentation postprocessor initialized
2025-11-14 20:47:40,292 - segmentation.segmentation_pipeline - INFO - Segmentation pipeline initialized
2025-11-14 20:47:40,293 - main - INFO - Segmentation pipeline initialized
2025-11-14 20:47:40,294 - vector_store - INFO - Loading FAISS index from data\faiss_index
2025-11-14 20:47:40,298 - vector_store - INFO - FAISS index loaded from disk
2025-11-14 20:47:40,299 - vector_store - WARNING - Failed to move index to GPU: module 'faiss' has no attribute 'StandardGpuResources'
2025-11-14 20:47:40,299 - main - INFO - Vector store initialized
2025-11-14 20:47:40,300 - llm.medical_llm - INFO - Configuration: use_inference_api=True, model_type=biomistral
2025-11-14 20:47:40,300 - llm.medical_llm - INFO - [OK] HuggingFace token found (length: 37, starts with: hf_MZYA...)
2025-11-14 20:47:40,301 - llm.medical_llm - INFO - Inference API client initialized for model: BioMistral/BioMistral-7B
2025-11-14 20:47:40,302 - llm.medical_llm - INFO - Using remote inference - no local model download required
2025-11-14 20:47:40,302 - llm.medical_llm - INFO - Medical LLM initialized: biomistral (mode: Inference API)
2025-11-14 20:47:40,302 - main - INFO - Medical LLM initialized
2025-11-14 20:47:40,303 - mcp_fhir.mcp_fhir_client - INFO - MCP-FHIR client initialized
2025-11-14 20:47:40,303 - main - INFO - MCP-FHIR client initialized
2025-11-14 20:47:40,304 - feedback.feedback_collector - INFO - Feedback collector initialized
2025-11-14 20:47:40,306 - main - INFO - Feedback collector initialized
2025-11-14 20:47:40,306 - deployment.pipeline_deployer - INFO - Pipeline deployer initialized
2025-11-14 20:47:40,306 - main - INFO - Pipeline deployer initialized
2025-11-14 20:47:40,307 - api_server - INFO - Pipeline initialized successfully
2025-11-14 20:49:21,100 - api_server - INFO - Processing uploaded file: ID_00b115bfe.dcm
2025-11-14 20:49:21,102 - main - INFO - Processing medical image: data\uploads\ID_00b115bfe.dcm
2025-11-14 20:49:21,102 - main - INFO - Step 1: Performing segmentation...
2025-11-14 20:49:21,104 - segmentation.segmentation_pipeline - INFO - Processing image: data\uploads\ID_00b115bfe.dcm
2025-11-14 20:49:21,197 - segmentation.preprocessing - INFO - Converted 2D DICOM to 3D: (1, 1024, 1024)
2025-11-14 20:49:21,197 - segmentation.preprocessing - INFO - Loaded DICOM image: (1, 1024, 1024)
2025-11-14 20:49:21,211 - pydicom - WARNING - Error while processing tag 00080018: Invalid value for VR UI: 'ID_00b115bfe'. Please see <https://dicom.nema.org/medical/dicom/current/output/html/part05.html#table_6.2-1> for allowed values for each VR.
2025-11-14 20:49:21,217 - pydicom - WARNING - Error while processing tag 00280030: Values for elements with a VR of 'DS' must be <= 16 characters long, but the float provided requires > 16 characters to be accurately represented. Use a smaller string, set 'config.settings.reading_validation_mode' to 'WARN' to override the length check, or explicitly construct a DS object with 'auto_format' set to True
2025-11-14 20:49:21,360 - segmentation.swin_unetr_model - ERROR - Preprocessing failed for data\uploads\ID_00b115bfe.dcm: applying transform <monai.transforms.croppad.dictionary.SpatialPadd object at 0x0000028173084210>
2025-11-14 20:49:21,360 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-11-14 20:49:21,371 - segmentation.preprocessing - INFO - Converted 2D DICOM to 3D: (1, 1024, 1024)
2025-11-14 20:49:21,371 - segmentation.preprocessing - INFO - Loaded DICOM image: (1, 1024, 1024)
2025-11-14 20:49:21,888 - main - ERROR - Pipeline processing failed: from einops import rearrange (No module named 'einops').

For details about installing the optional dependencies, please visit:
    https://docs.monai.io/en/latest/installation.html#installing-the-recommended-dependencies
2025-11-14 20:50:39,059 - api_server - INFO - Shutting down API server...
2025-11-14 20:52:35,036 - api_server - INFO - Initializing MedTech Pipeline...
2025-11-14 20:52:35,046 - main - INFO - Loaded config: segmentation_config.yaml
2025-11-14 20:52:35,052 - main - INFO - Loaded config: vector_store_config.yaml
2025-11-14 20:52:35,053 - main - INFO - Loaded config: llm_config.yaml
2025-11-14 20:52:35,070 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-11-14 20:52:35,083 - main - INFO - Loaded config: deployment_config.yaml
2025-11-14 20:52:35,083 - main - INFO - MedTech Pipeline initialized
2025-11-14 20:52:35,083 - main - INFO - Initializing pipeline components...
2025-11-14 20:52:35,261 - segmentation.swin_unetr_model - INFO - Swin UNETR model initialized on device: cpu
2025-11-14 20:52:35,273 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-11-14 20:52:35,279 - segmentation.postprocessing - INFO - Segmentation postprocessor initialized
2025-11-14 20:52:35,286 - segmentation.segmentation_pipeline - INFO - Segmentation pipeline initialized
2025-11-14 20:52:35,288 - main - INFO - Segmentation pipeline initialized
2025-11-14 20:52:35,294 - vector_store - INFO - Loading FAISS index from data\faiss_index
2025-11-14 20:52:35,299 - vector_store - INFO - FAISS index loaded from disk
2025-11-14 20:52:35,303 - vector_store - WARNING - Failed to move index to GPU: module 'faiss' has no attribute 'StandardGpuResources'
2025-11-14 20:52:35,307 - main - INFO - Vector store initialized
2025-11-14 20:52:35,327 - llm.medical_llm - INFO - Configuration: use_inference_api=True, model_type=biomistral
2025-11-14 20:52:35,342 - llm.medical_llm - INFO - [OK] HuggingFace token found (length: 37, starts with: hf_MZYA...)
2025-11-14 20:52:35,346 - llm.medical_llm - INFO - Inference API client initialized for model: BioMistral/BioMistral-7B
2025-11-14 20:52:35,348 - llm.medical_llm - INFO - Using remote inference - no local model download required
2025-11-14 20:52:35,352 - llm.medical_llm - INFO - Medical LLM initialized: biomistral (mode: Inference API)
2025-11-14 20:52:35,354 - main - INFO - Medical LLM initialized
2025-11-14 20:52:35,354 - mcp_fhir.mcp_fhir_client - INFO - MCP-FHIR client initialized
2025-11-14 20:52:35,356 - main - INFO - MCP-FHIR client initialized
2025-11-14 20:52:35,358 - feedback.feedback_collector - INFO - Feedback collector initialized
2025-11-14 20:52:35,358 - main - INFO - Feedback collector initialized
2025-11-14 20:52:35,363 - deployment.pipeline_deployer - INFO - Pipeline deployer initialized
2025-11-14 20:52:35,363 - main - INFO - Pipeline deployer initialized
2025-11-14 20:52:35,365 - api_server - INFO - Pipeline initialized successfully
2025-11-14 20:52:52,730 - api_server - INFO - Processing uploaded file: ID_00b0e5a9f.dcm
2025-11-14 20:52:52,730 - main - INFO - Processing medical image: data\uploads\ID_00b0e5a9f.dcm
2025-11-14 20:52:52,731 - main - INFO - Step 1: Performing segmentation...
2025-11-14 20:52:52,731 - segmentation.segmentation_pipeline - INFO - Processing image: data\uploads\ID_00b0e5a9f.dcm
2025-11-14 20:52:52,825 - segmentation.preprocessing - INFO - Converted 2D DICOM to 3D: (1, 1024, 1024)
2025-11-14 20:52:52,826 - segmentation.preprocessing - INFO - Loaded DICOM image: (1, 1024, 1024)
2025-11-14 20:52:52,845 - pydicom - WARNING - Error while processing tag 00080018: Invalid value for VR UI: 'ID_00b0e5a9f'. Please see <https://dicom.nema.org/medical/dicom/current/output/html/part05.html#table_6.2-1> for allowed values for each VR.
2025-11-14 20:52:52,847 - pydicom - WARNING - Error while processing tag 00280030: Values for elements with a VR of 'DS' must be <= 16 characters long, but the float provided requires > 16 characters to be accurately represented. Use a smaller string, set 'config.settings.reading_validation_mode' to 'WARN' to override the length check, or explicitly construct a DS object with 'auto_format' set to True
2025-11-14 20:52:52,990 - segmentation.swin_unetr_model - ERROR - Preprocessing failed for data\uploads\ID_00b0e5a9f.dcm: applying transform <monai.transforms.croppad.dictionary.SpatialPadd object at 0x00000239F8A7EA10>
2025-11-14 20:52:52,991 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-11-14 20:52:53,005 - segmentation.preprocessing - INFO - Converted 2D DICOM to 3D: (1, 1024, 1024)
2025-11-14 20:52:53,006 - segmentation.preprocessing - INFO - Loaded DICOM image: (1, 1024, 1024)
2025-11-14 20:52:55,304 - main - ERROR - Pipeline processing failed: [enforce fail at alloc_cpu.cpp:121] data. DefaultCPUAllocator: not enough memory: you tried to allocate 1936973136 bytes.
2025-11-14 20:57:15,812 - api_server - INFO - Shutting down API server...
2025-11-14 20:57:46,200 - api_server - INFO - Initializing MedTech Pipeline...
2025-11-14 20:57:46,211 - main - INFO - Loaded config: segmentation_config.yaml
2025-11-14 20:57:46,221 - main - INFO - Loaded config: vector_store_config.yaml
2025-11-14 20:57:46,234 - main - INFO - Loaded config: llm_config.yaml
2025-11-14 20:57:46,250 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-11-14 20:57:46,273 - main - INFO - Loaded config: deployment_config.yaml
2025-11-14 20:57:46,274 - main - INFO - MedTech Pipeline initialized
2025-11-14 20:57:46,274 - main - INFO - Initializing pipeline components...
2025-11-14 20:57:46,608 - segmentation.swin_unetr_model - INFO - Swin UNETR model initialized on device: cpu
2025-11-14 20:57:46,608 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-11-14 20:57:46,609 - segmentation.postprocessing - INFO - Segmentation postprocessor initialized
2025-11-14 20:57:46,611 - segmentation.segmentation_pipeline - INFO - Segmentation pipeline initialized
2025-11-14 20:57:46,611 - main - INFO - Segmentation pipeline initialized
2025-11-14 20:57:46,613 - vector_store - INFO - Loading FAISS index from data\faiss_index
2025-11-14 20:57:46,616 - vector_store - INFO - FAISS index loaded from disk
2025-11-14 20:57:46,617 - vector_store - WARNING - Failed to move index to GPU: module 'faiss' has no attribute 'StandardGpuResources'
2025-11-14 20:57:46,617 - main - INFO - Vector store initialized
2025-11-14 20:57:46,618 - llm.medical_llm - INFO - Configuration: use_inference_api=True, model_type=biomistral
2025-11-14 20:57:46,618 - llm.medical_llm - INFO - [OK] HuggingFace token found (length: 37, starts with: hf_MZYA...)
2025-11-14 20:57:46,619 - llm.medical_llm - INFO - Inference API client initialized for model: BioMistral/BioMistral-7B
2025-11-14 20:57:46,619 - llm.medical_llm - INFO - Using remote inference - no local model download required
2025-11-14 20:57:46,619 - llm.medical_llm - INFO - Medical LLM initialized: biomistral (mode: Inference API)
2025-11-14 20:57:46,620 - main - INFO - Medical LLM initialized
2025-11-14 20:57:46,620 - mcp_fhir.mcp_fhir_client - INFO - MCP-FHIR client initialized
2025-11-14 20:57:46,621 - main - INFO - MCP-FHIR client initialized
2025-11-14 20:57:46,622 - feedback.feedback_collector - INFO - Feedback collector initialized
2025-11-14 20:57:46,622 - main - INFO - Feedback collector initialized
2025-11-14 20:57:46,623 - deployment.pipeline_deployer - INFO - Pipeline deployer initialized
2025-11-14 20:57:46,623 - main - INFO - Pipeline deployer initialized
2025-11-14 20:57:46,624 - api_server - INFO - Pipeline initialized successfully
2025-11-14 20:58:00,633 - api_server - INFO - Processing uploaded file: ID_00b0e5a9f.dcm
2025-11-14 20:58:00,633 - main - INFO - Processing medical image: data\uploads\ID_00b0e5a9f.dcm
2025-11-14 20:58:00,633 - main - INFO - Step 1: Performing segmentation...
2025-11-14 20:58:00,633 - segmentation.segmentation_pipeline - INFO - Processing image: data\uploads\ID_00b0e5a9f.dcm
2025-11-14 20:58:00,698 - segmentation.preprocessing - INFO - Converted 2D DICOM to 3D: (1, 1024, 1024)
2025-11-14 20:58:00,700 - segmentation.preprocessing - INFO - Loaded DICOM image: (1, 1024, 1024)
2025-11-14 20:58:00,721 - pydicom - WARNING - Error while processing tag 00080018: Invalid value for VR UI: 'ID_00b0e5a9f'. Please see <https://dicom.nema.org/medical/dicom/current/output/html/part05.html#table_6.2-1> for allowed values for each VR.
2025-11-14 20:58:00,727 - pydicom - WARNING - Error while processing tag 00280030: Values for elements with a VR of 'DS' must be <= 16 characters long, but the float provided requires > 16 characters to be accurately represented. Use a smaller string, set 'config.settings.reading_validation_mode' to 'WARN' to override the length check, or explicitly construct a DS object with 'auto_format' set to True
2025-11-14 20:58:00,843 - segmentation.swin_unetr_model - ERROR - Preprocessing failed for data\uploads\ID_00b0e5a9f.dcm: applying transform <monai.transforms.croppad.dictionary.SpatialPadd object at 0x000001F366DAEBD0>
2025-11-14 20:58:00,844 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-11-14 20:58:00,855 - segmentation.preprocessing - INFO - Converted 2D DICOM to 3D: (1, 1024, 1024)
2025-11-14 20:58:00,856 - segmentation.preprocessing - INFO - Loaded DICOM image: (1, 1024, 1024)
2025-11-14 20:58:00,880 - main - ERROR - Pipeline processing failed: spatial dimensions [4] of input image (spatial shape: torch.Size([96, 96, 1])) must be divisible by 2**5.
2025-11-14 21:01:51,272 - api_server - INFO - Initializing MedTech Pipeline...
2025-11-14 21:01:51,280 - main - INFO - Loaded config: segmentation_config.yaml
2025-11-14 21:01:51,286 - main - INFO - Loaded config: vector_store_config.yaml
2025-11-14 21:01:51,298 - main - INFO - Loaded config: llm_config.yaml
2025-11-14 21:01:51,311 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-11-14 21:01:51,327 - main - INFO - Loaded config: deployment_config.yaml
2025-11-14 21:01:51,327 - main - INFO - MedTech Pipeline initialized
2025-11-14 21:01:51,327 - main - INFO - Initializing pipeline components...
2025-11-14 21:01:51,531 - segmentation.swin_unetr_model - INFO - Swin UNETR model initialized on device: cpu
2025-11-14 21:01:51,531 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-11-14 21:01:51,532 - segmentation.postprocessing - INFO - Segmentation postprocessor initialized
2025-11-14 21:01:51,534 - segmentation.segmentation_pipeline - INFO - Segmentation pipeline initialized
2025-11-14 21:01:51,534 - main - INFO - Segmentation pipeline initialized
2025-11-14 21:01:51,536 - vector_store - INFO - Loading FAISS index from data\faiss_index
2025-11-14 21:01:51,540 - vector_store - INFO - FAISS index loaded from disk
2025-11-14 21:01:51,540 - vector_store - WARNING - Failed to move index to GPU: module 'faiss' has no attribute 'StandardGpuResources'
2025-11-14 21:01:51,541 - main - INFO - Vector store initialized
2025-11-14 21:01:51,541 - llm.medical_llm - INFO - Configuration: use_inference_api=True, model_type=biomistral
2025-11-14 21:01:51,541 - llm.medical_llm - INFO - [OK] HuggingFace token found (length: 37, starts with: hf_MZYA...)
2025-11-14 21:01:51,542 - llm.medical_llm - INFO - Inference API client initialized for model: BioMistral/BioMistral-7B
2025-11-14 21:01:51,543 - llm.medical_llm - INFO - Using remote inference - no local model download required
2025-11-14 21:01:51,543 - llm.medical_llm - INFO - Medical LLM initialized: biomistral (mode: Inference API)
2025-11-14 21:01:51,543 - main - INFO - Medical LLM initialized
2025-11-14 21:01:51,544 - mcp_fhir.mcp_fhir_client - INFO - MCP-FHIR client initialized
2025-11-14 21:01:51,545 - main - INFO - MCP-FHIR client initialized
2025-11-14 21:01:51,546 - feedback.feedback_collector - INFO - Feedback collector initialized
2025-11-14 21:01:51,547 - main - INFO - Feedback collector initialized
2025-11-14 21:01:51,547 - deployment.pipeline_deployer - INFO - Pipeline deployer initialized
2025-11-14 21:01:51,548 - main - INFO - Pipeline deployer initialized
2025-11-14 21:01:51,548 - api_server - INFO - Pipeline initialized successfully
2025-11-14 21:02:05,516 - api_server - INFO - Processing uploaded file: ID_00b0e5a9f.dcm
2025-11-14 21:02:05,516 - main - INFO - Processing medical image: data\uploads\ID_00b0e5a9f.dcm
2025-11-14 21:02:05,517 - main - INFO - Step 1: Performing segmentation...
2025-11-14 21:02:05,517 - segmentation.segmentation_pipeline - INFO - Processing image: data\uploads\ID_00b0e5a9f.dcm
2025-11-14 21:02:05,562 - segmentation.preprocessing - INFO - Converted 2D DICOM to 3D: (1, 1024, 1024)
2025-11-14 21:02:05,563 - segmentation.preprocessing - INFO - Loaded DICOM image: (1, 1024, 1024)
2025-11-14 21:02:05,574 - pydicom - WARNING - Error while processing tag 00080018: Invalid value for VR UI: 'ID_00b0e5a9f'. Please see <https://dicom.nema.org/medical/dicom/current/output/html/part05.html#table_6.2-1> for allowed values for each VR.
2025-11-14 21:02:05,576 - pydicom - WARNING - Error while processing tag 00280030: Values for elements with a VR of 'DS' must be <= 16 characters long, but the float provided requires > 16 characters to be accurately represented. Use a smaller string, set 'config.settings.reading_validation_mode' to 'WARN' to override the length check, or explicitly construct a DS object with 'auto_format' set to True
2025-11-14 21:02:05,690 - segmentation.swin_unetr_model - ERROR - Preprocessing failed for data\uploads\ID_00b0e5a9f.dcm: applying transform <monai.transforms.croppad.dictionary.SpatialPadd object at 0x000001A02902D150>
2025-11-14 21:02:05,691 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-11-14 21:02:05,702 - segmentation.preprocessing - INFO - Converted 2D DICOM to 3D: (1, 1024, 1024)
2025-11-14 21:02:05,702 - segmentation.preprocessing - INFO - Loaded DICOM image: (1, 1024, 1024)
2025-11-14 21:02:08,828 - main - ERROR - Pipeline processing failed: [enforce fail at alloc_cpu.cpp:121] data. DefaultCPUAllocator: not enough memory: you tried to allocate 830131344 bytes.
2025-11-14 21:02:34,332 - api_server - INFO - Shutting down API server...
2025-11-14 21:05:51,796 - api_server - INFO - Initializing MedTech Pipeline...
2025-11-14 21:05:51,804 - main - INFO - Loaded config: segmentation_config.yaml
2025-11-14 21:05:51,809 - main - INFO - Loaded config: vector_store_config.yaml
2025-11-14 21:05:51,821 - main - INFO - Loaded config: llm_config.yaml
2025-11-14 21:05:51,826 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-11-14 21:05:51,853 - main - INFO - Loaded config: deployment_config.yaml
2025-11-14 21:05:51,855 - main - INFO - MedTech Pipeline initialized
2025-11-14 21:05:51,857 - main - INFO - Initializing pipeline components...
2025-11-14 21:05:52,070 - segmentation.swin_unetr_model - INFO - Swin UNETR model initialized on device: cpu
2025-11-14 21:05:52,070 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-11-14 21:05:52,071 - segmentation.postprocessing - INFO - Segmentation postprocessor initialized
2025-11-14 21:05:52,072 - segmentation.segmentation_pipeline - INFO - Segmentation pipeline initialized
2025-11-14 21:05:52,073 - main - INFO - Segmentation pipeline initialized
2025-11-14 21:05:52,075 - vector_store - INFO - Loading FAISS index from data\faiss_index
2025-11-14 21:05:52,078 - vector_store - INFO - FAISS index loaded from disk
2025-11-14 21:05:52,079 - vector_store - WARNING - Failed to move index to GPU: module 'faiss' has no attribute 'StandardGpuResources'
2025-11-14 21:05:52,079 - main - INFO - Vector store initialized
2025-11-14 21:05:52,080 - llm.medical_llm - INFO - Configuration: use_inference_api=True, model_type=biomistral
2025-11-14 21:05:52,080 - llm.medical_llm - INFO - [OK] HuggingFace token found (length: 37, starts with: hf_MZYA...)
2025-11-14 21:05:52,081 - llm.medical_llm - INFO - Inference API client initialized for model: BioMistral/BioMistral-7B
2025-11-14 21:05:52,081 - llm.medical_llm - INFO - Using remote inference - no local model download required
2025-11-14 21:05:52,082 - llm.medical_llm - INFO - Medical LLM initialized: biomistral (mode: Inference API)
2025-11-14 21:05:52,082 - main - INFO - Medical LLM initialized
2025-11-14 21:05:52,083 - mcp_fhir.mcp_fhir_client - INFO - MCP-FHIR client initialized
2025-11-14 21:05:52,084 - main - INFO - MCP-FHIR client initialized
2025-11-14 21:05:52,085 - feedback.feedback_collector - INFO - Feedback collector initialized
2025-11-14 21:05:52,085 - main - INFO - Feedback collector initialized
2025-11-14 21:05:52,085 - deployment.pipeline_deployer - INFO - Pipeline deployer initialized
2025-11-14 21:05:52,085 - main - INFO - Pipeline deployer initialized
2025-11-14 21:05:52,086 - api_server - INFO - Pipeline initialized successfully
2025-11-14 21:06:05,138 - api_server - INFO - Processing uploaded file: ID_00b0e5a9f.dcm
2025-11-14 21:06:05,138 - main - INFO - Processing medical image: data\uploads\ID_00b0e5a9f.dcm
2025-11-14 21:06:05,138 - main - INFO - Step 1: Performing segmentation...
2025-11-14 21:06:05,140 - segmentation.segmentation_pipeline - INFO - Processing image: data\uploads\ID_00b0e5a9f.dcm
2025-11-14 21:06:05,179 - segmentation.preprocessing - INFO - Converted 2D DICOM to 3D: (1, 1024, 1024)
2025-11-14 21:06:05,185 - segmentation.preprocessing - INFO - Loaded DICOM image: (1, 1024, 1024)
2025-11-14 21:06:05,197 - pydicom - WARNING - Error while processing tag 00080018: Invalid value for VR UI: 'ID_00b0e5a9f'. Please see <https://dicom.nema.org/medical/dicom/current/output/html/part05.html#table_6.2-1> for allowed values for each VR.
2025-11-14 21:06:05,197 - pydicom - WARNING - Error while processing tag 00280030: Values for elements with a VR of 'DS' must be <= 16 characters long, but the float provided requires > 16 characters to be accurately represented. Use a smaller string, set 'config.settings.reading_validation_mode' to 'WARN' to override the length check, or explicitly construct a DS object with 'auto_format' set to True
2025-11-14 21:06:05,298 - segmentation.swin_unetr_model - ERROR - Preprocessing failed for data\uploads\ID_00b0e5a9f.dcm: applying transform <monai.transforms.croppad.dictionary.SpatialPadd object at 0x000001C02EF13A50>
2025-11-14 21:06:05,298 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-11-14 21:06:05,309 - segmentation.preprocessing - INFO - Converted 2D DICOM to 3D: (1, 1024, 1024)
2025-11-14 21:06:05,309 - segmentation.preprocessing - INFO - Loaded DICOM image: (1, 1024, 1024)
2025-11-14 21:06:05,398 - segmentation.swin_unetr_model - ERROR - Fallback preprocessing also failed: permute(): duplicate dims are not allowed.
2025-11-14 21:06:05,398 - main - ERROR - Pipeline processing failed: applying transform <monai.transforms.croppad.dictionary.SpatialPadd object at 0x000001C02EF13A50>
2025-11-14 21:08:00,011 - api_server - INFO - Initializing MedTech Pipeline...
2025-11-14 21:08:00,019 - main - INFO - Loaded config: segmentation_config.yaml
2025-11-14 21:08:00,027 - main - INFO - Loaded config: vector_store_config.yaml
2025-11-14 21:08:00,040 - main - INFO - Loaded config: llm_config.yaml
2025-11-14 21:08:00,051 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-11-14 21:08:00,073 - main - INFO - Loaded config: deployment_config.yaml
2025-11-14 21:08:00,074 - main - INFO - MedTech Pipeline initialized
2025-11-14 21:08:00,075 - main - INFO - Initializing pipeline components...
2025-11-14 21:08:00,322 - segmentation.swin_unetr_model - INFO - Swin UNETR model initialized on device: cpu
2025-11-14 21:08:00,322 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-11-14 21:08:00,323 - segmentation.postprocessing - INFO - Segmentation postprocessor initialized
2025-11-14 21:08:00,324 - segmentation.segmentation_pipeline - INFO - Segmentation pipeline initialized
2025-11-14 21:08:00,324 - main - INFO - Segmentation pipeline initialized
2025-11-14 21:08:00,326 - vector_store - INFO - Loading FAISS index from data\faiss_index
2025-11-14 21:08:00,329 - vector_store - INFO - FAISS index loaded from disk
2025-11-14 21:08:00,330 - vector_store - WARNING - Failed to move index to GPU: module 'faiss' has no attribute 'StandardGpuResources'
2025-11-14 21:08:00,330 - main - INFO - Vector store initialized
2025-11-14 21:08:00,331 - llm.medical_llm - INFO - Configuration: use_inference_api=True, model_type=biomistral
2025-11-14 21:08:00,331 - llm.medical_llm - INFO - [OK] HuggingFace token found (length: 37, starts with: hf_MZYA...)
2025-11-14 21:08:00,332 - llm.medical_llm - INFO - Inference API client initialized for model: BioMistral/BioMistral-7B
2025-11-14 21:08:00,332 - llm.medical_llm - INFO - Using remote inference - no local model download required
2025-11-14 21:08:00,332 - llm.medical_llm - INFO - Medical LLM initialized: biomistral (mode: Inference API)
2025-11-14 21:08:00,333 - main - INFO - Medical LLM initialized
2025-11-14 21:08:00,333 - mcp_fhir.mcp_fhir_client - INFO - MCP-FHIR client initialized
2025-11-14 21:08:00,334 - main - INFO - MCP-FHIR client initialized
2025-11-14 21:08:00,335 - feedback.feedback_collector - INFO - Feedback collector initialized
2025-11-14 21:08:00,336 - main - INFO - Feedback collector initialized
2025-11-14 21:08:00,336 - deployment.pipeline_deployer - INFO - Pipeline deployer initialized
2025-11-14 21:08:00,337 - main - INFO - Pipeline deployer initialized
2025-11-14 21:08:00,337 - api_server - INFO - Pipeline initialized successfully
2025-11-14 21:08:13,967 - api_server - INFO - Processing uploaded file: ID_00b0e5a9f.dcm
2025-11-14 21:08:13,967 - main - INFO - Processing medical image: data\uploads\ID_00b0e5a9f.dcm
2025-11-14 21:08:13,967 - main - INFO - Step 1: Performing segmentation...
2025-11-14 21:08:13,968 - segmentation.segmentation_pipeline - INFO - Processing image: data\uploads\ID_00b0e5a9f.dcm
2025-11-14 21:08:14,016 - segmentation.preprocessing - INFO - Converted 2D DICOM to 3D: (1, 1024, 1024)
2025-11-14 21:08:14,016 - segmentation.preprocessing - INFO - Loaded DICOM image: (1, 1024, 1024)
2025-11-14 21:08:14,025 - pydicom - WARNING - Error while processing tag 00080018: Invalid value for VR UI: 'ID_00b0e5a9f'. Please see <https://dicom.nema.org/medical/dicom/current/output/html/part05.html#table_6.2-1> for allowed values for each VR.
2025-11-14 21:08:14,027 - pydicom - WARNING - Error while processing tag 00280030: Values for elements with a VR of 'DS' must be <= 16 characters long, but the float provided requires > 16 characters to be accurately represented. Use a smaller string, set 'config.settings.reading_validation_mode' to 'WARN' to override the length check, or explicitly construct a DS object with 'auto_format' set to True
2025-11-14 21:08:14,117 - segmentation.swin_unetr_model - ERROR - Preprocessing failed for data\uploads\ID_00b0e5a9f.dcm: applying transform <monai.transforms.croppad.dictionary.SpatialPadd object at 0x0000028228213210>
2025-11-14 21:08:14,117 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-11-14 21:08:14,126 - segmentation.preprocessing - INFO - Converted 2D DICOM to 3D: (1, 1024, 1024)
2025-11-14 21:08:14,127 - segmentation.preprocessing - INFO - Loaded DICOM image: (1, 1024, 1024)
2025-11-14 21:08:14,211 - segmentation.swin_unetr_model - ERROR - Fallback preprocessing also failed: permute(): duplicate dims are not allowed.
2025-11-14 21:08:14,211 - main - ERROR - Pipeline processing failed: applying transform <monai.transforms.croppad.dictionary.SpatialPadd object at 0x0000028228213210>
2025-11-14 21:09:51,473 - api_server - INFO - Shutting down API server...
2025-11-14 21:10:21,974 - api_server - INFO - Initializing MedTech Pipeline...
2025-11-14 21:10:21,984 - main - INFO - Loaded config: segmentation_config.yaml
2025-11-14 21:10:21,990 - main - INFO - Loaded config: vector_store_config.yaml
2025-11-14 21:10:21,999 - main - INFO - Loaded config: llm_config.yaml
2025-11-14 21:10:22,009 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-11-14 21:10:22,032 - main - INFO - Loaded config: deployment_config.yaml
2025-11-14 21:10:22,033 - main - INFO - MedTech Pipeline initialized
2025-11-14 21:10:22,033 - main - INFO - Initializing pipeline components...
2025-11-14 21:10:22,248 - segmentation.swin_unetr_model - INFO - Swin UNETR model initialized on device: cpu
2025-11-14 21:10:22,249 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-11-14 21:10:22,249 - segmentation.postprocessing - INFO - Segmentation postprocessor initialized
2025-11-14 21:10:22,250 - segmentation.segmentation_pipeline - INFO - Segmentation pipeline initialized
2025-11-14 21:10:22,250 - main - INFO - Segmentation pipeline initialized
2025-11-14 21:10:22,253 - vector_store - INFO - Loading FAISS index from data\faiss_index
2025-11-14 21:10:22,255 - vector_store - INFO - FAISS index loaded from disk
2025-11-14 21:10:22,256 - vector_store - WARNING - Failed to move index to GPU: module 'faiss' has no attribute 'StandardGpuResources'
2025-11-14 21:10:22,256 - main - INFO - Vector store initialized
2025-11-14 21:10:22,257 - llm.medical_llm - INFO - Configuration: use_inference_api=True, model_type=biomistral
2025-11-14 21:10:22,257 - llm.medical_llm - INFO - [OK] HuggingFace token found (length: 37, starts with: hf_MZYA...)
2025-11-14 21:10:22,258 - llm.medical_llm - INFO - Inference API client initialized for model: BioMistral/BioMistral-7B
2025-11-14 21:10:22,259 - llm.medical_llm - INFO - Using remote inference - no local model download required
2025-11-14 21:10:22,259 - llm.medical_llm - INFO - Medical LLM initialized: biomistral (mode: Inference API)
2025-11-14 21:10:22,259 - main - INFO - Medical LLM initialized
2025-11-14 21:10:22,261 - mcp_fhir.mcp_fhir_client - INFO - MCP-FHIR client initialized
2025-11-14 21:10:22,261 - main - INFO - MCP-FHIR client initialized
2025-11-14 21:10:22,262 - feedback.feedback_collector - INFO - Feedback collector initialized
2025-11-14 21:10:22,263 - main - INFO - Feedback collector initialized
2025-11-14 21:10:22,263 - deployment.pipeline_deployer - INFO - Pipeline deployer initialized
2025-11-14 21:10:22,263 - main - INFO - Pipeline deployer initialized
2025-11-14 21:10:22,264 - api_server - INFO - Pipeline initialized successfully
2025-11-14 21:10:36,155 - api_server - INFO - Processing uploaded file: ID_00b0e5a9f.dcm
2025-11-14 21:10:36,157 - main - INFO - Processing medical image: data\uploads\ID_00b0e5a9f.dcm
2025-11-14 21:10:36,158 - main - INFO - Step 1: Performing segmentation...
2025-11-14 21:10:36,160 - segmentation.segmentation_pipeline - INFO - Processing image: data\uploads\ID_00b0e5a9f.dcm
2025-11-14 21:10:36,245 - segmentation.preprocessing - INFO - Converted 2D DICOM to 3D: (1, 1024, 1024)
2025-11-14 21:10:36,245 - segmentation.preprocessing - INFO - Loaded DICOM image: (1, 1024, 1024)
2025-11-14 21:10:36,262 - pydicom - WARNING - Error while processing tag 00080018: Invalid value for VR UI: 'ID_00b0e5a9f'. Please see <https://dicom.nema.org/medical/dicom/current/output/html/part05.html#table_6.2-1> for allowed values for each VR.
2025-11-14 21:10:36,268 - pydicom - WARNING - Error while processing tag 00280030: Values for elements with a VR of 'DS' must be <= 16 characters long, but the float provided requires > 16 characters to be accurately represented. Use a smaller string, set 'config.settings.reading_validation_mode' to 'WARN' to override the length check, or explicitly construct a DS object with 'auto_format' set to True
2025-11-14 21:10:36,423 - segmentation.swin_unetr_model - ERROR - Preprocessing failed for data\uploads\ID_00b0e5a9f.dcm: applying transform <monai.transforms.croppad.dictionary.SpatialPadd object at 0x000002E2A7B9BE10>
2025-11-14 21:10:36,424 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-11-14 21:10:36,440 - segmentation.preprocessing - INFO - Converted 2D DICOM to 3D: (1, 1024, 1024)
2025-11-14 21:10:36,441 - segmentation.preprocessing - INFO - Loaded DICOM image: (1, 1024, 1024)
2025-11-14 21:13:10,976 - api_server - INFO - Initializing MedTech Pipeline...
2025-11-14 21:13:10,984 - main - INFO - Loaded config: segmentation_config.yaml
2025-11-14 21:13:10,992 - main - INFO - Loaded config: vector_store_config.yaml
2025-11-14 21:13:11,000 - main - INFO - Loaded config: llm_config.yaml
2025-11-14 21:13:11,011 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-11-14 21:13:11,028 - main - INFO - Loaded config: deployment_config.yaml
2025-11-14 21:13:11,028 - main - INFO - MedTech Pipeline initialized
2025-11-14 21:13:11,028 - main - INFO - Initializing pipeline components...
2025-11-14 21:13:11,205 - segmentation.swin_unetr_model - INFO - Swin UNETR model initialized on device: cpu
2025-11-14 21:13:11,206 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-11-14 21:13:11,206 - segmentation.postprocessing - INFO - Segmentation postprocessor initialized
2025-11-14 21:13:11,207 - segmentation.segmentation_pipeline - INFO - Segmentation pipeline initialized
2025-11-14 21:13:11,208 - main - INFO - Segmentation pipeline initialized
2025-11-14 21:13:11,211 - vector_store - INFO - Loading FAISS index from data\faiss_index
2025-11-14 21:13:11,214 - vector_store - INFO - FAISS index loaded from disk
2025-11-14 21:13:11,214 - vector_store - WARNING - Failed to move index to GPU: module 'faiss' has no attribute 'StandardGpuResources'
2025-11-14 21:13:11,215 - main - INFO - Vector store initialized
2025-11-14 21:13:11,215 - llm.medical_llm - INFO - Configuration: use_inference_api=True, model_type=biomistral
2025-11-14 21:13:11,215 - llm.medical_llm - INFO - [OK] HuggingFace token found (length: 37, starts with: hf_MZYA...)
2025-11-14 21:13:11,216 - llm.medical_llm - INFO - Inference API client initialized for model: BioMistral/BioMistral-7B
2025-11-14 21:13:11,217 - llm.medical_llm - INFO - Using remote inference - no local model download required
2025-11-14 21:13:11,217 - llm.medical_llm - INFO - Medical LLM initialized: biomistral (mode: Inference API)
2025-11-14 21:13:11,217 - main - INFO - Medical LLM initialized
2025-11-14 21:13:11,218 - mcp_fhir.mcp_fhir_client - INFO - MCP-FHIR client initialized
2025-11-14 21:13:11,218 - main - INFO - MCP-FHIR client initialized
2025-11-14 21:13:11,220 - feedback.feedback_collector - INFO - Feedback collector initialized
2025-11-14 21:13:11,220 - main - INFO - Feedback collector initialized
2025-11-14 21:13:11,221 - deployment.pipeline_deployer - INFO - Pipeline deployer initialized
2025-11-14 21:13:11,221 - main - INFO - Pipeline deployer initialized
2025-11-14 21:13:11,222 - api_server - INFO - Pipeline initialized successfully
2025-11-14 21:13:21,832 - api_server - INFO - Processing uploaded file: ID_00b0e5a9f.dcm
2025-11-14 21:13:21,834 - main - INFO - Processing medical image: data\uploads\ID_00b0e5a9f.dcm
2025-11-14 21:13:21,835 - main - INFO - Step 1: Performing segmentation...
2025-11-14 21:13:21,835 - segmentation.segmentation_pipeline - INFO - Processing image: data\uploads\ID_00b0e5a9f.dcm
2025-11-14 21:13:21,989 - segmentation.preprocessing - INFO - Converted 2D DICOM to 3D: (1, 1024, 1024)
2025-11-14 21:13:21,992 - segmentation.preprocessing - INFO - Loaded DICOM image: (1, 1024, 1024)
2025-11-14 21:13:22,035 - pydicom - WARNING - Error while processing tag 00080018: Invalid value for VR UI: 'ID_00b0e5a9f'. Please see <https://dicom.nema.org/medical/dicom/current/output/html/part05.html#table_6.2-1> for allowed values for each VR.
2025-11-14 21:13:22,046 - pydicom - WARNING - Error while processing tag 00280030: Values for elements with a VR of 'DS' must be <= 16 characters long, but the float provided requires > 16 characters to be accurately represented. Use a smaller string, set 'config.settings.reading_validation_mode' to 'WARN' to override the length check, or explicitly construct a DS object with 'auto_format' set to True
2025-11-14 21:13:22,276 - main - ERROR - Pipeline processing failed: Sequence must have length 2, got 3.
2025-11-14 21:17:01,929 - api_server - INFO - Shutting down API server...
2025-11-14 21:17:34,600 - api_server - INFO - Initializing MedTech Pipeline...
2025-11-14 21:17:34,611 - main - INFO - Loaded config: segmentation_config.yaml
2025-11-14 21:17:34,617 - main - INFO - Loaded config: vector_store_config.yaml
2025-11-14 21:17:34,625 - main - INFO - Loaded config: llm_config.yaml
2025-11-14 21:17:34,637 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-11-14 21:17:34,657 - main - INFO - Loaded config: deployment_config.yaml
2025-11-14 21:17:34,658 - main - INFO - MedTech Pipeline initialized
2025-11-14 21:17:34,659 - main - INFO - Initializing pipeline components...
2025-11-14 21:17:34,864 - segmentation.swin_unetr_model - INFO - Swin UNETR model initialized on device: cpu
2025-11-14 21:17:34,864 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-11-14 21:17:34,865 - segmentation.postprocessing - INFO - Segmentation postprocessor initialized
2025-11-14 21:17:34,866 - segmentation.segmentation_pipeline - INFO - Segmentation pipeline initialized
2025-11-14 21:17:34,866 - main - INFO - Segmentation pipeline initialized
2025-11-14 21:17:34,868 - vector_store - INFO - Loading FAISS index from data\faiss_index
2025-11-14 21:17:34,872 - vector_store - INFO - FAISS index loaded from disk
2025-11-14 21:17:34,872 - vector_store - WARNING - Failed to move index to GPU: module 'faiss' has no attribute 'StandardGpuResources'
2025-11-14 21:17:34,873 - main - INFO - Vector store initialized
2025-11-14 21:17:34,873 - llm.medical_llm - INFO - Configuration: use_inference_api=True, model_type=biomistral
2025-11-14 21:17:34,874 - llm.medical_llm - INFO - [OK] HuggingFace token found (length: 37, starts with: hf_MZYA...)
2025-11-14 21:17:34,874 - llm.medical_llm - INFO - Inference API client initialized for model: BioMistral/BioMistral-7B
2025-11-14 21:17:34,875 - llm.medical_llm - INFO - Using remote inference - no local model download required
2025-11-14 21:17:34,875 - llm.medical_llm - INFO - Medical LLM initialized: biomistral (mode: Inference API)
2025-11-14 21:17:34,875 - main - INFO - Medical LLM initialized
2025-11-14 21:17:34,876 - mcp_fhir.mcp_fhir_client - INFO - MCP-FHIR client initialized
2025-11-14 21:17:34,876 - main - INFO - MCP-FHIR client initialized
2025-11-14 21:17:34,878 - feedback.feedback_collector - INFO - Feedback collector initialized
2025-11-14 21:17:34,878 - main - INFO - Feedback collector initialized
2025-11-14 21:17:34,880 - deployment.pipeline_deployer - INFO - Pipeline deployer initialized
2025-11-14 21:17:34,880 - main - INFO - Pipeline deployer initialized
2025-11-14 21:17:34,880 - api_server - INFO - Pipeline initialized successfully
2025-11-14 21:17:45,081 - api_server - INFO - Processing uploaded file: ID_00b0e5a9f.dcm
2025-11-14 21:17:45,082 - main - INFO - Processing medical image: data\uploads\ID_00b0e5a9f.dcm
2025-11-14 21:17:45,082 - main - INFO - Step 1: Performing segmentation...
2025-11-14 21:17:45,083 - segmentation.segmentation_pipeline - INFO - Processing image: data\uploads\ID_00b0e5a9f.dcm
2025-11-14 21:17:45,133 - segmentation.preprocessing - INFO - Converted 2D DICOM to 3D: (1, 1024, 1024)
2025-11-14 21:17:45,133 - segmentation.preprocessing - INFO - Loaded DICOM image: (1, 1024, 1024)
2025-11-14 21:17:45,146 - pydicom - WARNING - Error while processing tag 00080018: Invalid value for VR UI: 'ID_00b0e5a9f'. Please see <https://dicom.nema.org/medical/dicom/current/output/html/part05.html#table_6.2-1> for allowed values for each VR.
2025-11-14 21:17:45,149 - pydicom - WARNING - Error while processing tag 00280030: Values for elements with a VR of 'DS' must be <= 16 characters long, but the float provided requires > 16 characters to be accurately represented. Use a smaller string, set 'config.settings.reading_validation_mode' to 'WARN' to override the length check, or explicitly construct a DS object with 'auto_format' set to True
2025-11-14 21:17:45,242 - main - ERROR - Pipeline processing failed: Sequence must have length 2, got 3.
2025-11-14 21:36:45,079 - api_server - INFO - Initializing MedTech Pipeline...
2025-11-14 21:36:45,087 - main - INFO - Loaded config: segmentation_config.yaml
2025-11-14 21:36:45,094 - main - INFO - Loaded config: vector_store_config.yaml
2025-11-14 21:36:45,105 - main - INFO - Loaded config: llm_config.yaml
2025-11-14 21:36:45,115 - main - INFO - Loaded config: mcp_fhir_config.yaml
2025-11-14 21:36:45,129 - main - INFO - Loaded config: deployment_config.yaml
2025-11-14 21:36:45,130 - main - INFO - MedTech Pipeline initialized
2025-11-14 21:36:45,130 - main - INFO - Initializing pipeline components...
2025-11-14 21:36:45,334 - segmentation.swin_unetr_model - INFO - Swin UNETR model initialized on device: cpu
2025-11-14 21:36:45,334 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-11-14 21:36:45,334 - segmentation.postprocessing - INFO - Segmentation postprocessor initialized
2025-11-14 21:36:45,336 - segmentation.segmentation_pipeline - INFO - Segmentation pipeline initialized
2025-11-14 21:36:45,336 - main - INFO - Segmentation pipeline initialized
2025-11-14 21:36:45,338 - vector_store - INFO - Loading FAISS index from data\faiss_index
2025-11-14 21:36:45,340 - vector_store - INFO - FAISS index loaded from disk
2025-11-14 21:36:45,341 - vector_store - WARNING - Failed to move index to GPU: module 'faiss' has no attribute 'StandardGpuResources'
2025-11-14 21:36:45,341 - main - INFO - Vector store initialized
2025-11-14 21:36:45,341 - llm.medical_llm - INFO - Configuration: use_inference_api=True, model_type=biomistral
2025-11-14 21:36:45,342 - llm.medical_llm - INFO - [OK] HuggingFace token found (length: 37, starts with: hf_MZYA...)
2025-11-14 21:36:45,342 - llm.medical_llm - INFO - Inference API client initialized for model: BioMistral/BioMistral-7B
2025-11-14 21:36:45,342 - llm.medical_llm - INFO - Using remote inference - no local model download required
2025-11-14 21:36:45,343 - llm.medical_llm - INFO - Medical LLM initialized: biomistral (mode: Inference API)
2025-11-14 21:36:45,343 - main - INFO - Medical LLM initialized
2025-11-14 21:36:45,344 - mcp_fhir.mcp_fhir_client - INFO - MCP-FHIR client initialized
2025-11-14 21:36:45,344 - main - INFO - MCP-FHIR client initialized
2025-11-14 21:36:45,346 - feedback.feedback_collector - INFO - Feedback collector initialized
2025-11-14 21:36:45,346 - main - INFO - Feedback collector initialized
2025-11-14 21:36:45,347 - deployment.pipeline_deployer - INFO - Pipeline deployer initialized
2025-11-14 21:36:45,347 - main - INFO - Pipeline deployer initialized
2025-11-14 21:36:45,347 - api_server - INFO - Pipeline initialized successfully
2025-11-14 21:37:13,520 - api_server - INFO - Processing uploaded file: ID_00b0e5a9f.dcm
2025-11-14 21:37:13,521 - main - INFO - Processing medical image: data\uploads\ID_00b0e5a9f.dcm
2025-11-14 21:37:13,522 - main - INFO - Step 1: Performing segmentation...
2025-11-14 21:37:13,522 - segmentation.segmentation_pipeline - INFO - Processing image: data\uploads\ID_00b0e5a9f.dcm
2025-11-14 21:37:13,607 - segmentation.preprocessing - INFO - Converted 2D DICOM to 3D: (1, 1024, 1024)
2025-11-14 21:37:13,608 - segmentation.preprocessing - INFO - Loaded DICOM image: (1, 1024, 1024)
2025-11-14 21:37:13,608 - segmentation.swin_unetr_model - ERROR - Preprocessing failed for data\uploads\ID_00b0e5a9f.dcm: Use fallback preprocessing for DICOM
2025-11-14 21:37:13,609 - segmentation.preprocessing - INFO - Medical image preprocessor initialized
2025-11-14 21:37:13,622 - segmentation.preprocessing - INFO - Converted 2D DICOM to 3D: (1, 1024, 1024)
2025-11-14 21:37:13,622 - segmentation.preprocessing - INFO - Loaded DICOM image: (1, 1024, 1024)
